!function(e){"use strict";e(document).ready(function(){function t(){var t=e(window).width();t<973?(e("#navigation").removeClass("menu"),e("#navigation li").removeClass("dropdown"),e("header").removeClass("full-width"),e("#navigation").superfish("destroy")):(e("#navigation").addClass("menu"),"yes"===e("header").data("full")&&e("header").addClass("full-width"),e("#navigation").superfish({delay:300,animation:{opacity:"show"},speed:200,speedOut:50})),t<1272?e("header").addClass("alternative").removeClass("full-width"):"yes"===e("header").data("alt")||e("header").removeClass("alternative")}e("header").hasClass("full-width")&&e("header").attr("data-full","yes"),e("header").hasClass("alternative")&&e("header").attr("data-alt","yes"),e(window).resize(function(){t()}),t();var n=e.jPanelMenu({menu:"#responsive",animated:!1,duration:200,keyboardShortcuts:!1,closeOnContentClick:!0});e(".menu-trigger").on("click",function(){var t=e(this);return t.hasClass("active")?(n.off(),t.removeClass("active")):(n.on(),n.open(),t.addClass("active")),!1}),e("#jPanelMenu-menu").removeClass("sf-menu"),e("#jPanelMenu-menu li ul").removeAttr("style"),e(window).resize(function(){var t=e(window).width(),o=e(".menu-trigger");t>990&&(n.off(),o.removeClass("active"))}),e(".responsive-table").stacktable();var o=400,i=400,a=400,r=400;e(window).scroll(function(){e(window).scrollTop()>=o?e("#backtotop").fadeIn(i):e("#backtotop").fadeOut(a)}),e("#backtotop a").on("click",function(){return e("html, body").animate({scrollTop:0},r),!1}),e("#job-spotlight").showbizpro({dragAndScroll:"off",visibleElementsArray:[1,1,1,1],carousel:"off",entrySizeOffset:0,allEntryAtOnce:"off",rewindFromEnd:"off",autoPlay:"off",delay:2e3,speed:400,easing:"easeOut"}),e("#our-clients").showbizpro({dragAndScroll:"off",visibleElementsArray:[5,4,3,1],carousel:"off",entrySizeOffset:0,allEntryAtOnce:"off"}),e(".fullwidthbanner").revolution({delay:9e3,startwidth:1180,startheight:585,onHoverStop:"on",navigationType:"none",navigationArrows:"verticalcentered",navigationStyle:"none",touchenabled:"on",navOffsetHorizontal:0,navOffsetVertical:20,stopAtSlide:-1,stopAfterLoops:-1,fullWidth:"on"}),e(".testimonials-slider").flexslider({animation:"fade",controlsContainer:e(".custom-controls-container"),customDirectionNav:e(".custom-navigation a")}),e(".counter").counterUp({delay:10,time:800});var s={".chosen-select":{disable_search_threshold:10,width:"100%"},".chosen-select-deselect":{allow_single_deselect:!0,width:"100%"},".chosen-select-no-single":{disable_search_threshold:10,width:"100%"},".chosen-select-no-results":{no_results_text:"Oops, nothing found!"},".chosen-select-width":{width:"95%"}};for(var l in s)e(l).chosen(s[l]);e(".checkboxes").find("input:first").addClass("first"),e(".checkboxes input").on("change",function(){e(this).hasClass("first")?(e(this).parents(".checkboxes").find("input").prop("checked",!1),e(this).prop("checked",!0)):e(this).parents(".checkboxes").find("input:first").not(this).prop("checked",!1)}),e("body").magnificPopup({type:"image",delegate:"a.mfp-gallery",fixedContentPos:!0,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!0,removalDelay:0,mainClass:"mfp-fade",gallery:{enabled:!0},callbacks:{buildControls:function(){this.contentContainer.append(this.arrowLeft.add(this.arrowRight))}}}),e(".popup-with-zoom-anim").magnificPopup({type:"inline",fixedContentPos:!1,fixedBgPos:!0,overflowY:"auto",closeBtnInside:!0,preloader:!1,midClick:!0,removalDelay:300,mainClass:"my-mfp-zoom-in"}),e(".mfp-image").magnificPopup({type:"image",closeOnContentClick:!0,mainClass:"mfp-fade",image:{verticalFit:!0}}),e(".popup-youtube, .popup-vimeo, .popup-gmaps").magnificPopup({disableOn:700,type:"iframe",mainClass:"mfp-fade",removalDelay:160,preloader:!1,fixedContentPos:!1}),e("#contactform .submit").on("click",function(t){t.preventDefault();var n=e("input[name=name]").val(),o=e("input[name=email]").val(),i=e("textarea[name=comment]").val(),a=!0;if(""===n&&(e("input[name=name]").addClass("error"),a=!1),""===o&&(e("input[name=email]").addClass("error"),a=!1),""===i&&(e("textarea[name=comment]").addClass("error"),a=!1),a){e(".hide").fadeIn(),e("#contactform .submit").fadeOut();var r={userName:n,userEmail:o,userComment:i};e.post("contact.php",r,function(t){var n;"error"==t.type?(n='<div class="error">'+t.text+"</div>",e(".hide").fadeOut(),e("#contactform .submit").fadeIn()):(n='<div class="success">'+t.text+"</div>",e("#contact div input").val(""),e("#contact textarea").val(""),e(".hide").fadeOut(),e("#contactform .submit").fadeIn().attr("disabled","disabled").css({backgroundColor:"#c0c0c0",cursor:"default"})),e("#result").hide().html(n).slideDown()},"json")}}),e("#contactform input, #contactform textarea").keyup(function(){e("#contactform input, #contactform textarea").removeClass("error"),e("#result").slideUp()});var c=e(".accordion");c.each(function(){e(this).addClass("ui-accordion ui-widget ui-helper-reset"),e(this).find("h3").addClass("ui-accordion-header ui-helper-reset ui-state-default ui-accordion-icons ui-corner-all"),e(this).find("div").addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom"),e(this).find("div").hide().first().show(),e(this).find("h3").first().removeClass("ui-accordion-header-active ui-state-active ui-corner-top").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),e(this).find("span").first().addClass("ui-accordion-icon-active")});var d=c.find("h3");d.on("click",function(t){var n=e(this).parent();if(e(this).next().is(":hidden")){var o=e("h3",n);o.removeClass("ui-accordion-header-active ui-state-active ui-corner-top").next().slideUp(300),o.find("span").removeClass("ui-accordion-icon-active"),e(this).find("span").addClass("ui-accordion-icon-active"),e(this).addClass("ui-accordion-header-active ui-state-active ui-corner-top").next().slideDown(300)}t.preventDefault()});var u=e(".app-link");e(".close-tab").hide(),e(".app-tabs div.app-tab-content").hide(),u.on("click",function(t){if(t.preventDefault(),e(this).parents("div.application").find(".close-tab").fadeOut(),e(this).hasClass("opened"))e(this).parents("div.application").find(".app-tabs div.app-tab-content").slideUp("fast"),e(this).parents("div.application").find(".close-tab").fadeOut(10),e(this).removeClass("opened");else{e(this).parents("div.application").find(".app-link").removeClass("opened"),e(this).addClass("opened");var n=e(this).attr("href");e(this).parents("div.application").find(n).slideDown("fast").removeClass("closed").addClass("opened"),e(this).parents("div.application").find(".close-tab").fadeIn(10)}e(this).parents("div.application").find(".app-tabs div.app-tab-content").not(n).slideUp("fast").addClass("closed").removeClass("opened")}),e(".close-tab").on("click",function(t){e(this).fadeOut(),t.preventDefault(),e(this).parents("div.application").find(".app-link").removeClass("opened"),e(this).parents("div.application").find(".app-tabs div.app-tab-content").slideUp("fast").addClass("closed").removeClass("opened")}),e(".box-to-clone:not(.box-loaded)").hide(),e(".add-box").on("click",function(t){t.preventDefault();var n=e(this).parent().find(".box-to-clone:first").clone();n.find("input").val(""),n.find(".regfield").val("1"),n.find(".tooltipstered").tooltipster({trigger:"custom",onlyOne:!1,position:"right",content:"Revise este campo",contentCloning:!1}),n.prependTo(e(this).parent()).show(),e("html, body").stop().animate({scrollTop:e(n).offset().top},600)}),e("body").on("click",".remove-box",function(t){t.preventDefault(),e(this).parent().remove()});var f=e(".tabs-nav"),p=f.children("li");f.each(function(){var t=e(this);t.next().children(".tab-content").stop(!0,!0).hide().first().show(),t.children("li").first().addClass("active").stop(!0,!0).show()}),p.on("click",function(t){var n=e(this);n.siblings().removeClass("active").end().addClass("active"),n.parent().next().children(".tab-content").stop(!0,!0).hide().siblings(n.find("a").attr("href")).fadeIn(),t.preventDefault()});var h=window.location.hash,m=e('.tabs-nav a[href="'+h+'"]');0===m.length?(e(".tabs-nav li:first").addClass("active").show(),e(".tab-content:first").show()):m.parent("li").trigger("click")})}(this.jQuery),function(e){"use strict";var t=function(){var t={bcClass:"sf-breadcrumb",menuClass:"sf-js-enabled",anchorClass:"sf-with-ul",menuArrowClass:"sf-arrows"},n=function(){var t=/iPhone|iPad|iPod/i.test(navigator.userAgent);return t&&e(window).load(function(){e("body").children().on("click",e.noop)}),t}(),o=function(){var e=document.documentElement.style;return"behavior"in e&&"fill"in e&&/iemobile/i.test(navigator.userAgent)}(),i=function(e,n){var o=t.menuClass;n.cssArrows&&(o+=" "+t.menuArrowClass),e.toggleClass(o)},a=function(n,o){return n.find("li."+o.pathClass).slice(0,o.pathLevels).addClass(o.hoverClass+" "+t.bcClass).filter(function(){return e(this).children(o.popUpSelector).hide().show().length}).removeClass(o.pathClass)},r=function(e){e.children("a").toggleClass(t.anchorClass)},s=function(e){var t=e.css("ms-touch-action");t="pan-y"===t?"auto":"pan-y",e.css("ms-touch-action",t)},l=function(t,i){var a="li:has("+i.popUpSelector+")";e.fn.hoverIntent&&!i.disableHI?t.hoverIntent(d,u,a):t.on("mouseenter.superfish",a,d).on("mouseleave.superfish",a,u);var r="MSPointerDown.superfish";n||(r+=" touchend.superfish"),o&&(r+=" mousedown.superfish"),t.on("focusin.superfish","li",d).on("focusout.superfish","li",u).on(r,"a",i,c)},c=function(t){var n=e(this),o=n.siblings(t.data.popUpSelector);o.length>0&&o.is(":hidden")&&(n.one("click.superfish",!1),"MSPointerDown"===t.type?n.trigger("focus"):e.proxy(d,n.parent("li"))())},d=function(){var t=e(this),n=h(t);clearTimeout(n.sfTimer),t.siblings().superfish("hide").end().superfish("show")},u=function(){var t=e(this),o=h(t);n?e.proxy(f,t,o)():(clearTimeout(o.sfTimer),o.sfTimer=setTimeout(e.proxy(f,t,o),o.delay))},f=function(t){t.retainPath=e.inArray(this[0],t.$path)>-1,this.superfish("hide"),this.parents("."+t.hoverClass).length||(t.onIdle.call(p(this)),t.$path.length&&e.proxy(d,t.$path)())},p=function(e){return e.closest("."+t.menuClass)},h=function(e){return p(e).data("sf-options")};return{hide:function(t){if(this.length){var n=this,o=h(n);if(!o)return this;var i=o.retainPath===!0?o.$path:"",a=n.find("li."+o.hoverClass).add(this).not(i).removeClass(o.hoverClass).children(o.popUpSelector),r=o.speedOut;t&&(a.show(),r=0),o.retainPath=!1,o.onBeforeHide.call(a),a.stop(!0,!0).animate(o.animationOut,r,function(){var t=e(this);o.onHide.call(t)})}return this},show:function(){var e=h(this);if(!e)return this;var t=this.addClass(e.hoverClass),n=t.children(e.popUpSelector);return e.onBeforeShow.call(n),n.stop(!0,!0).animate(e.animation,e.speed,function(){e.onShow.call(n)}),this},destroy:function(){return this.each(function(){var n,o=e(this),a=o.data("sf-options");return!!a&&(n=o.find(a.popUpSelector).parent("li"),clearTimeout(a.sfTimer),i(o,a),r(n),s(o),o.off(".superfish").off(".hoverIntent"),n.children(a.popUpSelector).attr("style",function(e,t){return t.replace(/display[^;]+;?/g,"")}),a.$path.removeClass(a.hoverClass+" "+t.bcClass).addClass(a.pathClass),o.find("."+a.hoverClass).removeClass(a.hoverClass),a.onDestroy.call(o),void o.removeData("sf-options"))})},init:function(n){return this.each(function(){var o=e(this);if(o.data("sf-options"))return!1;var c=e.extend({},e.fn.superfish.defaults,n),d=o.find(c.popUpSelector).parent("li");c.$path=a(o,c),o.data("sf-options",c),i(o,c),r(d),s(o),l(o,c),d.not("."+t.bcClass).superfish("hide",!0),c.onInit.call(this)})}}}();e.fn.superfish=function(n,o){return t[n]?t[n].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof n&&n?e.error("Method "+n+" does not exist on jQuery.fn.superfish"):t.init.apply(this,arguments)},e.fn.superfish.defaults={popUpSelector:"ul,.sf-mega",hoverClass:"sfHover",pathClass:"overrideThisToUse",pathLevels:1,delay:800,animation:{opacity:"show"},animationOut:{opacity:"hide"},speed:"normal",speedOut:"fast",cssArrows:!0,disableHI:!1,onInit:e.noop,onBeforeShow:e.noop,onShow:e.noop,onBeforeHide:e.noop,onHide:e.noop,onIdle:e.noop,onDestroy:e.noop},e.fn.extend({hideSuperfishUl:t.hide,showSuperfishUl:t.show})}(jQuery),function(e){e.jPanelMenu=function(t){"undefined"!=typeof t&&null!=t||(t={});var n={options:e.extend({menu:"#menu",panel:"body",trigger:".menu-trigger",excludedPanelContent:"style, script, .viewer",clone:!0,keepEventHandlers:!1,direction:"left",openPosition:"250px",animated:!1,closeOnContentClick:!1,keyboardShortcuts:[{code:27,open:!1,close:!0},{code:37,open:!1,close:!0},{code:39,open:!0,close:!0},{code:77,open:!0,close:!0}],duration:150,openDuration:t.duration||150,closeDuration:t.duration||150,easing:"ease-in-out",openEasing:t.easing||"ease-in-out",closeEasing:t.easing||"ease-in-out",before:function(){},beforeOpen:function(){},beforeClose:function(){},after:function(){},afterOpen:function(){},afterClose:function(){},beforeOn:function(){},afterOn:function(){},beforeOff:function(){},afterOff:function(){}},t),settings:{transitionsSupported:"WebkitTransition"in document.body.style||"MozTransition"in document.body.style||"msTransition"in document.body.style||"OTransition"in document.body.style||"Transition"in document.body.style,transformsSupported:"WebkitTransform"in document.body.style||"MozTransform"in document.body.style||"msTransform"in document.body.style||"OTransform"in document.body.style||"Transform"in document.body.style,cssPrefix:"",panelPosition:"static",positionUnits:"px"},menu:"#jPanelMenu-menu",panel:".jPanelMenu-panel",timeouts:{},clearTimeouts:function(){clearTimeout(n.timeouts.open),clearTimeout(n.timeouts.afterOpen),clearTimeout(n.timeouts.afterClose)},setPositionUnits:function(){for(var e=!1,t=["%","px","em"],o=0;o<t.length;o++){var i=t[o];n.options.openPosition.toString().substr(-i.length)==i&&(e=!0,n.settings.positionUnits=i)}e||(n.options.openPosition=parseInt(n.options.openPosition)+n.settings.positionUnits)},computePositionStyle:function(e,t){var o=e?n.options.openPosition:"0"+n.settings.positionUnits,i={};if(n.settings.transformsSupported){var a=e&&"right"==n.options.direction?"-":"",r="translate3d("+a+o+",0,0)",s="transform";t?(i="",""!=n.settings.cssPrefix&&(i=n.settings.cssPrefix+s+":"+r+";"),i+=s+":"+r+";"):(""!=n.settings.cssPrefix&&(i[n.settings.cssPrefix+s]=r),i[s]=r)}else t?(i="",i=n.options.direction+": "+o+";"):i[n.options.direction]=o;return i},setCSSPrefix:function(){n.settings.cssPrefix=n.getCSSPrefix()},setjPanelMenuStyles:function(){var t="background:#fff",o=e("html").css("background-color"),i=e("body").css("background-color"),a=function(t){var n=[];return e.each(["background-color","background-image","background-position","background-repeat","background-attachment","background-size","background-clip"],function(e,o){""!==t.css(o)&&n.push(o+":"+t.css(o))}),n.join(";")};"transparent"!==i&&"rgba(0, 0, 0, 0)"!==i?t=a(e("body")):"transparent"!==o&&"rgba(0, 0, 0, 0)"!==o&&(t=a(e("html"))),0==e("#jPanelMenu-style-master").length&&e("body").append('<style id="jPanelMenu-style-master">body{width:100%}.jPanelMenu,body{overflow-x:hidden}#jPanelMenu-menu{display:block;position:fixed;top:0;'+n.options.direction+":0;height:100%;z-index:-1;overflow-x:hidden;overflow-y:scroll;-webkit-overflow-scrolling:touch}.jPanelMenu-panel{position:static;"+n.options.direction+":0;top:0;z-index:2;width:100%;min-height:100%;"+t+";}</style>")},setMenuState:function(t){var o=t?"open":"closed";e(n.options.panel).attr("data-menu-position",o)},getMenuState:function(){return e(n.options.panel).attr("data-menu-position")},menuIsOpen:function(){return"open"==n.getMenuState()},setMenuStyle:function(t){e(n.menu).css(t)},setPanelStyle:function(t){e(n.panel).css(t)},showMenu:function(){n.setMenuStyle({display:"block"}),n.setMenuStyle({"z-index":"1"})},hideMenu:function(){n.setMenuStyle({"z-index":"-1"}),n.setMenuStyle({display:"none"})},enableTransitions:function(t,o){var i=t/1e3,a=n.getCSSEasingFunction(o);n.disableTransitions(),e("body").append('<style id="jPanelMenu-style-transitions">.jPanelMenu-panel{'+n.settings.cssPrefix+"transition: all "+i+"s "+a+"; transition: all "+i+"s "+a+";}</style>")},disableTransitions:function(){e("#jPanelMenu-style-transitions").remove()},getCSSEasingFunction:function(e){switch(e){case"linear":return e;case"ease":return e;case"ease-in":return e;case"ease-out":return e;case"ease-in-out":return e;default:return"ease-in-out"}},getJSEasingFunction:function(e){switch(e){case"linear":return e;default:return"swing"}},getVendorPrefix:function(){if("result"in arguments.callee)return arguments.callee.result;var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName("script")[0];for(var n in t.style)if(e.test(n))return arguments.callee.result=n.match(e)[0];return"WebkitOpacity"in t.style?arguments.callee.result="Webkit":"KhtmlOpacity"in t.style?arguments.callee.result="Khtml":arguments.callee.result=""},getCSSPrefix:function(){var e=n.getVendorPrefix();return""!=e?"-"+e.toLowerCase()+"-":""},openMenu:function(t){"undefined"!=typeof t&&null!=t||(t=n.options.animated),n.clearTimeouts(),n.options.before(),n.options.beforeOpen(),n.setMenuState(!0),n.showMenu();var o={none:!t,transitions:!(!t||!n.settings.transitionsSupported)};if(o.transitions||o.none){o.none&&n.disableTransitions(),o.transitions&&n.enableTransitions(n.options.openDuration,n.options.openEasing);var i=n.computePositionStyle(!0);n.setPanelStyle(i),n.timeouts.afterOpen=setTimeout(function(){n.options.after(),n.options.afterOpen(),n.initiateContentClickListeners()},n.options.openDuration)}else{var a=n.getJSEasingFunction(n.options.openEasing),r={};r[n.options.direction]=n.options.openPosition,e(n.panel).stop().animate(r,n.options.openDuration,a,function(){n.options.after(),n.options.afterOpen(),n.initiateContentClickListeners()})}},closeMenu:function(t){"undefined"!=typeof t&&null!=t||(t=n.options.animated),n.clearTimeouts(),n.options.before(),n.options.beforeClose(),n.setMenuState(!1);var o={none:!t,transitions:!(!t||!n.settings.transitionsSupported)};if(o.transitions||o.none){o.none&&n.disableTransitions(),o.transitions&&n.enableTransitions(n.options.closeDuration,n.options.closeEasing);var i=n.computePositionStyle();n.setPanelStyle(i),n.timeouts.afterClose=setTimeout(function(){n.disableTransitions(),n.hideMenu(),n.options.after(),n.options.afterClose(),n.destroyContentClickListeners()},n.options.closeDuration)}else{var a=n.getJSEasingFunction(n.options.closeEasing),r={};r[n.options.direction]=0+n.settings.positionUnits,e(n.panel).stop().animate(r,n.options.closeDuration,a,function(){n.hideMenu(),n.options.after(),n.options.afterClose(),n.destroyContentClickListeners()})}},triggerMenu:function(e){n.menuIsOpen()?n.closeMenu(e):n.openMenu(e)},initiateClickListeners:function(){e(document).on("click touchend",n.options.trigger,function(e){n.triggerMenu(n.options.animated),e.preventDefault()})},destroyClickListeners:function(){e(document).off("click touchend",n.options.trigger,null)},initiateContentClickListeners:function(){return!!n.options.closeOnContentClick&&void e(document).on("click touchend",n.panel,function(e){n.menuIsOpen()&&n.closeMenu(n.options.animated),e.preventDefault()})},destroyContentClickListeners:function(){return!!n.options.closeOnContentClick&&void e(document).off("click touchend",n.panel,null)},initiateKeyboardListeners:function(){var t=["input","textarea","select"];e(document).on("keydown",function(o){var i=e(o.target),a=!1;if(e.each(t,function(){i.is(this.toString())&&(a=!0)}),a)return!0;for(mapping in n.options.keyboardShortcuts)if(o.which==n.options.keyboardShortcuts[mapping].code){var r=n.options.keyboardShortcuts[mapping];r.open&&r.close?n.triggerMenu(n.options.animated):!r.open||r.close||n.menuIsOpen()?!r.open&&r.close&&n.menuIsOpen()&&n.closeMenu(n.options.animated):n.openMenu(n.options.animated),o.preventDefault()}})},destroyKeyboardListeners:function(){e(document).off("keydown",null)},setupMarkup:function(){e("html").addClass("jPanelMenu"),e(n.options.panel+" > *").not(n.menu+", "+n.options.excludedPanelContent).wrapAll('<div class="'+n.panel.replace(".","")+'"/>');var t=n.options.clone?e(n.options.menu).clone(n.options.keepEventHandlers):e(n.options.menu);t.attr("id",n.menu.replace("#","")).insertAfter(n.options.panel+" > "+n.panel)},resetMarkup:function(){e("html").removeClass("jPanelMenu"),e(n.options.panel+" > "+n.panel+" > *").unwrap(),e(n.menu).remove()},init:function(){n.options.beforeOn(),n.setPositionUnits(),n.setCSSPrefix(),n.initiateClickListeners(),"[object Array]"===Object.prototype.toString.call(n.options.keyboardShortcuts)&&n.initiateKeyboardListeners(),n.setjPanelMenuStyles(),n.setMenuState(!1),n.setupMarkup(),n.setPanelStyle({position:n.options.animated&&"static"===n.settings.panelPosition?"relative":n.settings.panelPosition}),n.setMenuStyle({width:n.options.openPosition}),n.closeMenu(!1),n.options.afterOn()},destroy:function(){n.options.beforeOff(),n.closeMenu(),n.destroyClickListeners(),"[object Array]"===Object.prototype.toString.call(n.options.keyboardShortcuts)&&n.destroyKeyboardListeners(),n.resetMarkup();var e={};e[n.options.direction]="auto",n.options.afterOff()}};return{on:n.init,off:n.destroy,trigger:n.triggerMenu,open:n.openMenu,close:n.closeMenu,isOpen:n.menuIsOpen,menu:n.menu,getMenu:function(){return e(n.menu)},panel:n.panel,getPanel:function(){return e(n.panel)},setPosition:function(e){"undefined"!=typeof e&&null!=e||(e=n.options.openPosition),n.options.openPosition=e,n.setMenuStyle({width:n.options.openPosition})}}}}(jQuery),function(e){e.fn.stacktable=function(t){var n=this,o={id:"stacktable small-only",hideOriginal:!0},i=e.extend({},o,t);return n.each(function(){var t=e('<table class="'+i.id+'"><tbody></tbody></table>');void 0!==typeof i.myClass&&t.addClass(i.myClass);var n="";$table=e(this),$table.addClass("stacktable large-only"),$topRow=$table.find("tr").eq(0),$table.find("tr").each(function(t,o){0===t||e(this).find("td,th").each(function(t,o){0===t?n+='<tr class="st-space"><td></td><td></td></tr><tr class="st-new-item"><td class="st-key">'+$topRow.find("td,th").eq(t).html()+'</td><td class="st-val st-head-row">'+e(this).html()+"</td></tr>":""!==e(this).html()&&(n+="<tr>",n+=$topRow.find("td,th").eq(t).html()?'<td class="st-key">'+$topRow.find("td,th").eq(t).html()+"</td>":'<td class="st-key"></td>',n+='<td class="st-val">'+e(this).html()+"</td>",n+="</tr>")})}),t.append(e(n)),$table.before(t),i.hideOriginal||$table.show()})}}(jQuery),function(){"use strict";function e(e){function t(t,o){var a,m,g=t==window,v=o&&void 0!==o.message?o.message:void 0;if(o=e.extend({},e.blockUI.defaults,o||{}),!o.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(o.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,o.overlayCSS||{}),a=e.extend({},e.blockUI.defaults.css,o.css||{}),o.onOverlayClick&&(o.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,o.themedCSS||{}),v=void 0===v?o.message:v,g&&p&&n(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var y=v.jquery?v[0]:v,b={};e(t).data("blockUI.history",b),b.el=y,b.parent=y.parentNode,b.display=y.style.display,b.position=y.style.position,b.parent&&b.parent.removeChild(y)}e(t).data("blockUI.onUnblock",o.onUnblock);var w,x,k,C,S=o.baseZ;w=e(d||o.forceIframe?'<iframe class="blockUI" style="z-index:'+S++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+o.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),x=e(o.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+S++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+S++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),o.theme&&g?(C='<div class="blockUI '+o.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:fixed">',o.title&&(C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(o.title||"&nbsp;")+"</div>"),C+='<div class="ui-widget-content ui-dialog-content"></div>',C+="</div>"):o.theme?(C='<div class="blockUI '+o.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(S+10)+';display:none;position:absolute">',o.title&&(C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(o.title||"&nbsp;")+"</div>"),C+='<div class="ui-widget-content ui-dialog-content"></div>',C+="</div>"):C=g?'<div class="blockUI '+o.blockMsgClass+' blockPage" style="z-index:'+(S+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+o.blockMsgClass+' blockElement" style="z-index:'+(S+10)+';display:none;position:absolute"></div>',k=e(C),v&&(o.theme?(k.css(m),k.addClass("ui-widget-content")):k.css(a)),o.theme||x.css(o.overlayCSS),x.css("position",g?"fixed":"absolute"),(d||o.forceIframe)&&w.css("opacity",0);var D=[w,x,k],T=e(g?"body":t);e.each(D,function(){this.appendTo(T)}),o.theme&&o.draggable&&e.fn.draggable&&k.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var M=f&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(u||M){if(g&&o.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(u||!e.support.boxModel)&&!g)var E=l(t,"borderTopWidth"),O=l(t,"borderLeftWidth"),_=E?"(0 - "+E+")":0,I=O?"(0 - "+O+")":0;e.each(D,function(e,t){var n=t[0].style;if(n.position="absolute",e<2)g?n.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+o.quirksmodeOffsetHack+') + "px"'):n.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?n.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):n.setExpression("width",'this.parentNode.offsetWidth + "px"'),I&&n.setExpression("left",I),_&&n.setExpression("top",_);else if(o.centerY)g&&n.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),n.marginTop=0;else if(!o.centerY&&g){var i=o.css&&o.css.top?parseInt(o.css.top,10):0,a="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+i+') + "px"';n.setExpression("top",a)}})}if(v&&(o.theme?k.find(".ui-widget-content").append(v):k.append(v),(v.jquery||v.nodeType)&&e(v).show()),(d||o.forceIframe)&&o.showOverlay&&w.show(),o.fadeIn){var R=o.onBlock?o.onBlock:c,N=o.showOverlay&&!v?R:c,P=v?R:c;o.showOverlay&&x._fadeIn(o.fadeIn,N),v&&k._fadeIn(o.fadeIn,P)}else o.showOverlay&&x.show(),v&&k.show(),o.onBlock&&o.onBlock.bind(k)();if(i(1,t,o),g?(p=k[0],h=e(o.focusableElements,p),o.focusInput&&setTimeout(r,20)):s(k[0],o.centerX,o.centerY),o.timeout){var A=setTimeout(function(){g?e.unblockUI(o):e(t).unblock(o)},o.timeout);e(t).data("blockUI.timeout",A)}}}function n(t,n){var a,r=t==window,s=e(t),l=s.data("blockUI.history"),c=s.data("blockUI.timeout");c&&(clearTimeout(c),s.removeData("blockUI.timeout")),n=e.extend({},e.blockUI.defaults,n||{}),i(0,t,n),null===n.onUnblock&&(n.onUnblock=s.data("blockUI.onUnblock"),s.removeData("blockUI.onUnblock"));var d;d=r?e("body").children().filter(".blockUI").add("body > .blockUI"):s.find(">.blockUI"),n.cursorReset&&(d.length>1&&(d[1].style.cursor=n.cursorReset),d.length>2&&(d[2].style.cursor=n.cursorReset)),r&&(p=h=null),n.fadeOut?(a=d.length,d.stop().fadeOut(n.fadeOut,function(){0===--a&&o(d,l,n,t)})):o(d,l,n,t)}function o(t,n,o,i){var a=e(i);if(!a.data("blockUI.isBlocked")){t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),n&&n.el&&(n.el.style.display=n.display,n.el.style.position=n.position,n.el.style.cursor="default",n.parent&&n.parent.appendChild(n.el),a.removeData("blockUI.history")),a.data("blockUI.static")&&a.css("position","static"),"function"==typeof o.onUnblock&&o.onUnblock(i,o);var r=e(document.body),s=r.width(),l=r[0].style.width;r.width(s-1).width(s),r[0].style.width=l}}function i(t,n,o){var i=n==window,r=e(n);if((t||(!i||p)&&(i||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",t),i&&o.bindEvents&&(!t||o.showOverlay))){var s="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(s,o,a):e(document).unbind(s,a)}}function a(t){if("keydown"===t.type&&t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var n=h,o=!t.shiftKey&&t.target===n[n.length-1],i=t.shiftKey&&t.target===n[0];if(o||i)return setTimeout(function(){r(i)},10),!1}var a=t.data,s=e(t.target);return s.hasClass("blockOverlay")&&a.onOverlayClick&&a.onOverlayClick(t),s.parents("div."+a.blockMsgClass).length>0||0===s.parents().children().filter("div.blockUI").length}function r(e){if(h){var t=h[e===!0?h.length-1:0];t&&t.focus()}}function s(e,t,n){var o=e.parentNode,i=e.style,a=(o.offsetWidth-e.offsetWidth)/2-l(o,"borderLeftWidth"),r=(o.offsetHeight-e.offsetHeight)/2-l(o,"borderTopWidth");t&&(i.left=a>0?a+"px":"0"),n&&(i.top=r>0?r+"px":"0")}function l(t,n){return parseInt(e.css(t,n),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},d=/MSIE/.test(navigator.userAgent),u=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),f=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){n(window,e)},e.growlUI=function(t,n,o,i){var a=e('<div class="growlUI"></div>');t&&a.append("<h1>"+t+"</h1>"),n&&a.append("<h2>"+n+"</h2>"),void 0===o&&(o=3e3);var r=function(t){t=t||{},e.blockUI({message:a,fadeIn:"undefined"!=typeof t.fadeIn?t.fadeIn:700,fadeOut:"undefined"!=typeof t.fadeOut?t.fadeOut:1e3,timeout:"undefined"!=typeof t.timeout?t.timeout:o,centerY:!1,showOverlay:!1,onUnblock:i,css:e.blockUI.defaults.growlCSS})};r();a.css("opacity");a.mouseover(function(){r({fadeIn:0,timeout:3e4});var t=e(".blockMsg");t.stop(),t.fadeTo(300,1)}).mouseout(function(){e(".blockMsg").fadeOut(1e3)})},e.fn.block=function(n){if(this[0]===window)return e.blockUI(n),this;var o=e.extend({},e.blockUI.defaults,n||{});return this.each(function(){var t=e(this);o.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,n)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){n(this,t)})},e.blockUI.version=2.7,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,focusableElements:":input:enabled:visible",onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,h=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e,t){"use strict";var n;if("object"==typeof exports){try{n=require("moment")}catch(o){}module.exports=t(n)}else"function"==typeof define&&define.amd?define(function(e){var o="moment";try{n=e(o)}catch(i){}return t(n)}):e.Pikaday=t(e.moment)}(this,function(e){"use strict";var t="function"==typeof e,n=!!window.addEventListener,o=window.document,i=window.setTimeout,a=function(e,t,o,i){
n?e.addEventListener(t,o,!!i):e.attachEvent("on"+t,o)},r=function(e,t,o,i){n?e.removeEventListener(t,o,!!i):e.detachEvent("on"+t,o)},s=function(e,t,n){var i;o.createEvent?(i=o.createEvent("HTMLEvents"),i.initEvent(t,!0,!1),i=b(i,n),e.dispatchEvent(i)):o.createEventObject&&(i=o.createEventObject(),i=b(i,n),e.fireEvent("on"+t,i))},l=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},c=function(e,t){return(" "+e.className+" ").indexOf(" "+t+" ")!==-1},d=function(e,t){c(e,t)||(e.className=""===e.className?t:e.className+" "+t)},u=function(e,t){e.className=l((" "+e.className+" ").replace(" "+t+" "," "))},f=function(e){return/Array/.test(Object.prototype.toString.call(e))},p=function(e){return/Date/.test(Object.prototype.toString.call(e))&&!isNaN(e.getTime())},h=function(e){var t=e.getDay();return 0===t||6===t},m=function(e){return e%4===0&&e%100!==0||e%400===0},g=function(e,t){return[31,m(e)?29:28,31,30,31,30,31,31,30,31,30,31][t]},v=function(e){p(e)&&e.setHours(0,0,0,0)},y=function(e,t){return e.getTime()===t.getTime()},b=function(e,t,n){var o,i;for(o in t)i=void 0!==e[o],i&&"object"==typeof t[o]&&null!==t[o]&&void 0===t[o].nodeName?p(t[o])?n&&(e[o]=new Date(t[o].getTime())):f(t[o])?n&&(e[o]=t[o].slice(0)):e[o]=b({},t[o],n):!n&&i||(e[o]=t[o]);return e},w=function(e){return e.month<0&&(e.year-=Math.ceil(Math.abs(e.month)/12),e.month+=12),e.month>11&&(e.year+=Math.floor(Math.abs(e.month)/12),e.month-=12),e},x={field:null,bound:void 0,position:"bottom left",reposition:!0,format:"YYYY-MM-DD",defaultDate:null,setDefaultDate:!1,firstDay:0,formatStrict:!1,minDate:null,maxDate:null,yearRange:10,showWeekNumber:!1,minYear:0,maxYear:9999,minMonth:void 0,maxMonth:void 0,startRange:null,endRange:null,isRTL:!1,yearSuffix:"",showMonthAfterYear:!1,showDaysInNextAndPreviousMonths:!1,numberOfMonths:1,mainCalendar:"left",container:void 0,i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["January","February","March","April","May","June","July","August","September","October","November","December"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]},theme:null,onSelect:null,onOpen:null,onClose:null,onDraw:null},k=function(e,t,n){for(t+=e.firstDay;t>=7;)t-=7;return n?e.i18n.weekdaysShort[t]:e.i18n.weekdays[t]},C=function(e){var t=[],n="false";if(e.isEmpty){if(!e.showDaysInNextAndPreviousMonths)return'<td class="is-empty"></td>';t.push("is-outside-current-month")}return e.isDisabled&&t.push("is-disabled"),e.isToday&&t.push("is-today"),e.isSelected&&(t.push("is-selected"),n="true"),e.isInRange&&t.push("is-inrange"),e.isStartRange&&t.push("is-startrange"),e.isEndRange&&t.push("is-endrange"),'<td data-day="'+e.day+'" class="'+t.join(" ")+'" aria-selected="'+n+'"><button class="pika-button pika-day" type="button" data-pika-year="'+e.year+'" data-pika-month="'+e.month+'" data-pika-day="'+e.day+'">'+e.day+"</button></td>"},S=function(e,t,n){var o=new Date(n,0,1),i=Math.ceil(((new Date(n,t,e)-o)/864e5+o.getDay()+1)/7);return'<td class="pika-week">'+i+"</td>"},D=function(e,t){return"<tr>"+(t?e.reverse():e).join("")+"</tr>"},T=function(e){return"<tbody>"+e.join("")+"</tbody>"},M=function(e){var t,n=[];for(e.showWeekNumber&&n.push("<th></th>"),t=0;t<7;t++)n.push('<th scope="col"><abbr title="'+k(e,t)+'">'+k(e,t,!0)+"</abbr></th>");return"<thead><tr>"+(e.isRTL?n.reverse():n).join("")+"</tr></thead>"},E=function(e,t,n,o,i,a){var r,s,l,c,d,u=e._o,p=n===u.minYear,h=n===u.maxYear,m='<div id="'+a+'" class="pika-title" role="heading" aria-live="assertive">',g=!0,v=!0;for(l=[],r=0;r<12;r++)l.push('<option value="'+(n===i?r-t:12+r-t)+'"'+(r===o?' selected="selected"':"")+(p&&r<u.minMonth||h&&r>u.maxMonth?'disabled="disabled"':"")+">"+u.i18n.months[r]+"</option>");for(c='<div class="pika-label">'+u.i18n.months[o]+'<select class="pika-select pika-select-month" tabindex="-1">'+l.join("")+"</select></div>",f(u.yearRange)?(r=u.yearRange[0],s=u.yearRange[1]+1):(r=n-u.yearRange,s=1+n+u.yearRange),l=[];r<s&&r<=u.maxYear;r++)r>=u.minYear&&l.push('<option value="'+r+'"'+(r===n?' selected="selected"':"")+">"+r+"</option>");return d='<div class="pika-label">'+n+u.yearSuffix+'<select class="pika-select pika-select-year" tabindex="-1">'+l.join("")+"</select></div>",m+=u.showMonthAfterYear?d+c:c+d,p&&(0===o||u.minMonth>=o)&&(g=!1),h&&(11===o||u.maxMonth<=o)&&(v=!1),0===t&&(m+='<button class="pika-prev'+(g?"":" is-disabled")+'" type="button">'+u.i18n.previousMonth+"</button>"),t===e._o.numberOfMonths-1&&(m+='<button class="pika-next'+(v?"":" is-disabled")+'" type="button">'+u.i18n.nextMonth+"</button>"),m+="</div>"},O=function(e,t,n){return'<table cellpadding="0" cellspacing="0" class="pika-table" role="grid" aria-labelledby="'+n+'">'+M(e)+T(t)+"</table>"},_=function(r){var s=this,l=s.config(r);s._onMouseDown=function(e){if(s._v){e=e||window.event;var t=e.target||e.srcElement;if(t)if(c(t,"is-disabled")||(!c(t,"pika-button")||c(t,"is-empty")||c(t.parentNode,"is-disabled")?c(t,"pika-prev")?s.prevMonth():c(t,"pika-next")&&s.nextMonth():(s.setDate(new Date(t.getAttribute("data-pika-year"),t.getAttribute("data-pika-month"),t.getAttribute("data-pika-day"))),l.bound&&i(function(){s.hide(),l.field&&l.field.blur()},100))),c(t,"pika-select"))s._c=!0;else{if(!e.preventDefault)return e.returnValue=!1,!1;e.preventDefault()}}},s._onChange=function(e){e=e||window.event;var t=e.target||e.srcElement;t&&(c(t,"pika-select-month")?s.gotoMonth(t.value):c(t,"pika-select-year")&&s.gotoYear(t.value))},s._onKeyChange=function(e){if(e=e||window.event,s.isVisible())switch(e.keyCode){case 13:case 27:l.field.blur();break;case 37:e.preventDefault(),s.adjustDate("subtract",1);break;case 38:s.adjustDate("subtract",7);break;case 39:s.adjustDate("add",1);break;case 40:s.adjustDate("add",7)}},s._onInputChange=function(n){var o;n.firedBy!==s&&(t?(o=e(l.field.value,l.format,l.formatStrict),o=o&&o.isValid()?o.toDate():null):o=new Date(Date.parse(l.field.value)),p(o)&&s.setDate(o),s._v||s.show())},s._onInputFocus=function(){s.show()},s._onInputClick=function(){s.show()},s._onInputBlur=function(){var e=o.activeElement;do if(c(e,"pika-single"))return;while(e=e.parentNode);s._c||(s._b=i(function(){s.hide()},50)),s._c=!1},s._onClick=function(e){e=e||window.event;var t=e.target||e.srcElement,o=t;if(t){!n&&c(t,"pika-select")&&(t.onchange||(t.setAttribute("onchange","return;"),a(t,"change",s._onChange)));do if(c(o,"pika-single")||o===l.trigger)return;while(o=o.parentNode);s._v&&t!==l.trigger&&o!==l.trigger&&s.hide()}},s.el=o.createElement("div"),s.el.className="pika-single"+(l.isRTL?" is-rtl":"")+(l.theme?" "+l.theme:""),a(s.el,"mousedown",s._onMouseDown,!0),a(s.el,"touchend",s._onMouseDown,!0),a(s.el,"change",s._onChange),a(o,"keydown",s._onKeyChange),l.field&&(l.container?l.container.appendChild(s.el):l.bound?o.body.appendChild(s.el):l.field.parentNode.insertBefore(s.el,l.field.nextSibling),a(l.field,"change",s._onInputChange),l.defaultDate||(t&&l.field.value?l.defaultDate=e(l.field.value,l.format).toDate():l.defaultDate=new Date(Date.parse(l.field.value)),l.setDefaultDate=!0));var d=l.defaultDate;p(d)?l.setDefaultDate?s.setDate(d,!0):s.gotoDate(d):s.gotoDate(new Date),l.bound?(this.hide(),s.el.className+=" is-bound",a(l.trigger,"click",s._onInputClick),a(l.trigger,"focus",s._onInputFocus),a(l.trigger,"blur",s._onInputBlur)):this.show()};return _.prototype={config:function(e){this._o||(this._o=b({},x,!0));var t=b(this._o,e,!0);t.isRTL=!!t.isRTL,t.field=t.field&&t.field.nodeName?t.field:null,t.theme="string"==typeof t.theme&&t.theme?t.theme:null,t.bound=!!(void 0!==t.bound?t.field&&t.bound:t.field),t.trigger=t.trigger&&t.trigger.nodeName?t.trigger:t.field,t.disableWeekends=!!t.disableWeekends,t.disableDayFn="function"==typeof t.disableDayFn?t.disableDayFn:null;var n=parseInt(t.numberOfMonths,10)||1;if(t.numberOfMonths=n>4?4:n,p(t.minDate)||(t.minDate=!1),p(t.maxDate)||(t.maxDate=!1),t.minDate&&t.maxDate&&t.maxDate<t.minDate&&(t.maxDate=t.minDate=!1),t.minDate&&this.setMinDate(t.minDate),t.maxDate&&this.setMaxDate(t.maxDate),f(t.yearRange)){var o=(new Date).getFullYear()-10;t.yearRange[0]=parseInt(t.yearRange[0],10)||o,t.yearRange[1]=parseInt(t.yearRange[1],10)||o}else t.yearRange=Math.abs(parseInt(t.yearRange,10))||x.yearRange,t.yearRange>100&&(t.yearRange=100);return t},toString:function(n){return p(this._d)?t?e(this._d).format(n||this._o.format):this._d.toDateString():""},getMoment:function(){return t?e(this._d):null},setMoment:function(n,o){t&&e.isMoment(n)&&this.setDate(n.toDate(),o)},getDate:function(){return p(this._d)?new Date(this._d.getTime()):new Date},setDate:function(e,t){if(!e)return this._d=null,this._o.field&&(this._o.field.value="",s(this._o.field,"change",{firedBy:this})),this.draw();if("string"==typeof e&&(e=new Date(Date.parse(e))),p(e)){var n=this._o.minDate,o=this._o.maxDate;p(n)&&e<n?e=n:p(o)&&e>o&&(e=o),this._d=new Date(e.getTime()),v(this._d),this.gotoDate(this._d),this._o.field&&(this._o.field.value=this.toString(),s(this._o.field,"change",{firedBy:this})),t||"function"!=typeof this._o.onSelect||this._o.onSelect.call(this,this.getDate())}},gotoDate:function(e){var t=!0;if(p(e)){if(this.calendars){var n=new Date(this.calendars[0].year,this.calendars[0].month,1),o=new Date(this.calendars[this.calendars.length-1].year,this.calendars[this.calendars.length-1].month,1),i=e.getTime();o.setMonth(o.getMonth()+1),o.setDate(o.getDate()-1),t=i<n.getTime()||o.getTime()<i}t&&(this.calendars=[{month:e.getMonth(),year:e.getFullYear()}],"right"===this._o.mainCalendar&&(this.calendars[0].month+=1-this._o.numberOfMonths)),this.adjustCalendars()}},adjustDate:function(n,o){var i,a=this.getDate(),r=24*parseInt(o)*60*60*1e3;"add"===n?i=new Date(a.valueOf()+r):"subtract"===n&&(i=new Date(a.valueOf()-r)),t&&("add"===n?i=e(a).add(o,"days").toDate():"subtract"===n&&(i=e(a).subtract(o,"days").toDate())),this.setDate(i)},adjustCalendars:function(){this.calendars[0]=w(this.calendars[0]);for(var e=1;e<this._o.numberOfMonths;e++)this.calendars[e]=w({month:this.calendars[0].month+e,year:this.calendars[0].year});this.draw()},gotoToday:function(){this.gotoDate(new Date)},gotoMonth:function(e){isNaN(e)||(this.calendars[0].month=parseInt(e,10),this.adjustCalendars())},nextMonth:function(){this.calendars[0].month++,this.adjustCalendars()},prevMonth:function(){this.calendars[0].month--,this.adjustCalendars()},gotoYear:function(e){isNaN(e)||(this.calendars[0].year=parseInt(e,10),this.adjustCalendars())},setMinDate:function(e){e instanceof Date?(v(e),this._o.minDate=e,this._o.minYear=e.getFullYear(),this._o.minMonth=e.getMonth()):(this._o.minDate=x.minDate,this._o.minYear=x.minYear,this._o.minMonth=x.minMonth,this._o.startRange=x.startRange),this.draw()},setMaxDate:function(e){e instanceof Date?(v(e),this._o.maxDate=e,this._o.maxYear=e.getFullYear(),this._o.maxMonth=e.getMonth()):(this._o.maxDate=x.maxDate,this._o.maxYear=x.maxYear,this._o.maxMonth=x.maxMonth,this._o.endRange=x.endRange),this.draw()},setStartRange:function(e){this._o.startRange=e},setEndRange:function(e){this._o.endRange=e},draw:function(e){if(this._v||e){var t,n=this._o,o=n.minYear,a=n.maxYear,r=n.minMonth,s=n.maxMonth,l="";this._y<=o&&(this._y=o,!isNaN(r)&&this._m<r&&(this._m=r)),this._y>=a&&(this._y=a,!isNaN(s)&&this._m>s&&(this._m=s)),t="pika-title-"+Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,2);for(var c=0;c<n.numberOfMonths;c++)l+='<div class="pika-lendar">'+E(this,c,this.calendars[c].year,this.calendars[c].month,this.calendars[0].year,t)+this.render(this.calendars[c].year,this.calendars[c].month,t)+"</div>";this.el.innerHTML=l,n.bound&&"hidden"!==n.field.type&&i(function(){n.trigger.focus()},1),"function"==typeof this._o.onDraw&&this._o.onDraw(this),this._o.field.setAttribute("aria-label","Use the arrow keys to pick a date")}},adjustPosition:function(){var e,t,n,i,a,r,s,l,c,d;if(!this._o.container){if(this.el.style.position="absolute",e=this._o.trigger,t=e,n=this.el.offsetWidth,i=this.el.offsetHeight,a=window.innerWidth||o.documentElement.clientWidth,r=window.innerHeight||o.documentElement.clientHeight,s=window.pageYOffset||o.body.scrollTop||o.documentElement.scrollTop,"function"==typeof e.getBoundingClientRect)d=e.getBoundingClientRect(),l=d.left+window.pageXOffset,c=d.bottom+window.pageYOffset;else for(l=t.offsetLeft,c=t.offsetTop+t.offsetHeight;t=t.offsetParent;)l+=t.offsetLeft,c+=t.offsetTop;(this._o.reposition&&l+n>a||this._o.position.indexOf("right")>-1&&l-n+e.offsetWidth>0)&&(l=l-n+e.offsetWidth),(this._o.reposition&&c+i>r+s||this._o.position.indexOf("top")>-1&&c-i-e.offsetHeight>0)&&(c=c-i-e.offsetHeight),this.el.style.left=l+"px",this.el.style.top=c+"px"}},render:function(e,t,n){var o=this._o,i=new Date,a=g(e,t),r=new Date(e,t,1).getDay(),s=[],l=[];v(i),o.firstDay>0&&(r-=o.firstDay,r<0&&(r+=7));for(var c=0===t?11:t-1,d=11===t?0:t+1,u=0===t?e-1:e,f=11===t?e+1:e,m=g(u,c),b=a+r,w=b;w>7;)w-=7;b+=7-w;for(var x=0,k=0;x<b;x++){var T=new Date(e,t,1+(x-r)),M=!!p(this._d)&&y(T,this._d),E=y(T,i),_=x<r||x>=a+r,I=1+(x-r),R=t,N=e,P=o.startRange&&y(o.startRange,T),A=o.endRange&&y(o.endRange,T),H=o.startRange&&o.endRange&&o.startRange<T&&T<o.endRange,j=o.minDate&&T<o.minDate||o.maxDate&&T>o.maxDate||o.disableWeekends&&h(T)||o.disableDayFn&&o.disableDayFn(T);_&&(x<r?(I=m+I,R=c,N=u):(I-=a,R=d,N=f));var z={day:I,month:R,year:N,isSelected:M,isToday:E,isDisabled:j,isEmpty:_,isStartRange:P,isEndRange:A,isInRange:H,showDaysInNextAndPreviousMonths:o.showDaysInNextAndPreviousMonths};l.push(C(z)),7===++k&&(o.showWeekNumber&&l.unshift(S(x-r,t,e)),s.push(D(l,o.isRTL)),l=[],k=0)}return O(o,s,n)},isVisible:function(){return this._v},show:function(){this.isVisible()||(u(this.el,"is-hidden"),this._v=!0,this.draw(),this._o.bound&&(a(o,"click",this._onClick),this.adjustPosition()),"function"==typeof this._o.onOpen&&this._o.onOpen.call(this))},hide:function(){var e=this._v;e!==!1&&(this._o.bound&&r(o,"click",this._onClick),this.el.style.position="static",this.el.style.left="auto",this.el.style.top="auto",d(this.el,"is-hidden"),this._v=!1,void 0!==e&&"function"==typeof this._o.onClose&&this._o.onClose.call(this))},destroy:function(){this.hide(),r(this.el,"mousedown",this._onMouseDown,!0),r(this.el,"touchend",this._onMouseDown,!0),r(this.el,"change",this._onChange),this._o.field&&(r(this._o.field,"change",this._onInputChange),this._o.bound&&(r(this._o.trigger,"click",this._onInputClick),r(this._o.trigger,"focus",this._onInputFocus),r(this._o.trigger,"blur",this._onInputBlur))),this.el.parentNode&&this.el.parentNode.removeChild(this.el)}},_}),function(e,t){"use strict";"object"==typeof exports?t(require("jquery"),require("../pikaday")):"function"==typeof define&&define.amd?define(["jquery","pikaday"],t):t(e.jQuery,e.Pikaday)}(this,function(e,t){"use strict";e.fn.pikaday=function(){var n=arguments;return n&&n.length||(n=[{}]),this.each(function(){var o=e(this),i=o.data("pikaday");if(i instanceof t)"string"==typeof n[0]&&"function"==typeof i[n[0]]&&(i[n[0]].apply(i,Array.prototype.slice.call(n,1)),"destroy"===n[0]&&o.removeData("pikaday"));else if("object"==typeof n[0]){var a=e.extend({},n[0]);a.field=o[0],o.data("pikaday",new t(a))}})}}),function(e){e(document).ready(function(){e(".WYSIWYG").sceditor({plugins:"bbcode",toolbar:"bold,italic,underline,center,right,justify,font,size,color,removeformat,bulletlist,orderedlist,table,quote,image,link,ltr,rtl,source",width:"100%"})})}(this.jQuery),!function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){var o;o=function(){"use strict";var e=n(1),t=n(2),o=n(3),i=n(4),a=n(5);e.sceditor=t,t.commands=n(6),t.defaultOptions=n(7),t.RangeHelper=n(8),t.dom=n(9),t.ie=i.ie,t.ios=i.ios,t.isWysiwygSupported=i.isWysiwygSupported,t.regexEscape=a.regex,t.escapeEntities=a.entities,t.escapeUriScheme=a.uriScheme,t.PluginManager=o,t.plugins=o.plugins,e.fn.sceditor=function(n){var o,a,r=[];return n=n||{},n.runWithoutWysiwygSupport||i.isWysiwygSupported?(this.each(function(){o=this.jquery?this:e(this),a=o.data("sceditor"),o.parents(".sceditor-container").length>0||("state"===n?r.push(!!a):"instance"===n?r.push(a):a||new t(this,n))}),r.length?1===r.length?r[0]:e(r):this):void 0}}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e){e.exports=jQuery},function(e,t,n){var o;o=function(){"use strict";var e=n(1),t=n(3),o=n(8),i=n(9),a=n(5),r=n(4),s=n(10),l=window,c=document,d=e(l),u=e(c),f=r.ie,p=f&&11>f,h=function(n,m){var g,v,y,b,w,x,k,C,S,D,T,M,E,O,_,I,R,N,P,A,H,j,z,U,L,W,B,F,Y,V,q,$,K,J,Q,X,Z,G,ee,te,ne,oe,ie,ae,re,se,le,ce,de,ue,fe,pe,he,me,ge,ve,ye,be,we=this,xe=n.get?n.get(0):n,ke=e(xe),Ce=[],Se=[],De=[],Te={},Me=[],Ee={};we.commands=e.extend(!0,{},m.commands||h.commands),we.opts=m=e.extend({},h.defaultOptions,m),H=function(){ke.data("sceditor",we),e.each(m,function(t,n){e.isPlainObject(n)&&(m[t]=e.extend(!0,{},n))}),m.locale&&"en"!==m.locale&&B(),g=e('<div class="sceditor-container" />').insertAfter(ke).css("z-index",m.zIndex),f&&g.addClass("ie ie"+f),N=!!ke.attr("required"),ke.removeAttr("required"),W(),K(),F(),L(),q(),Y(),V(),r.isWysiwygSupported||we.toggleSourceMode(),se();var t=function(){d.unbind("load",t),m.autofocus&&fe(),m.autoExpand&&we.expandToContent(),ae(),E.call("ready")};d.load(t),c.readyState&&"complete"===c.readyState&&t()},W=function(){var n=m.plugins;n=n?n.toString().split(","):[],E=new t(we),e.each(n,function(t,n){E.register(e.trim(n))})},B=function(){var e;T=h.locale[m.locale],T||(e=m.locale.split("-"),T=h.locale[e[0]]),T&&T.dateFormat&&(m.dateFormat=T.dateFormat)},L=function(){var t,n;k=e("<textarea></textarea>").hide(),y=e('<iframe frameborder="0" allowfullscreen="true"></iframe>'),m.spellcheck||k.attr("spellcheck","false"),"https:"===l.location.protocol&&y.attr("src","javascript:false"),g.append(y).append(k),b=y[0],C=k[0],we.dimensions(m.width||ke.width(),m.height||ke.height()),t=J(),t.open(),t.write(s("html",{attrs:f?' class="ie ie"'+f:"",spellcheck:m.spellcheck?"":'spellcheck="false"',charset:m.charset,style:m.style})),t.close(),x=e(t),w=e(t.body),we.readOnly(!!m.readOnly),(r.ios||f)&&(w.height("100%"),f||w.bind("touchend",we.focus)),n=ke.attr("tabindex"),k.attr("tabindex",n),y.attr("tabindex",n),M=new o(b.contentWindow),we.val(ke.hide().val())},Y=function(){m.autoUpdate&&(w.bind("blur",be),k.bind("blur",be)),null===m.rtl&&(m.rtl="rtl"===k.css("direction")),we.rtl(!!m.rtl),m.autoExpand&&x.bind("keyup",we.expandToContent),m.resizeEnabled&&$(),g.attr("id",m.id),we.emoticons(m.emoticonsEnabled)},V=function(){var t=f?"selectionchange":"keyup focus blur contextmenu mouseup touchend click",n="keydown keyup keypress focus blur contextmenu";u.click(ie),e(xe.form).bind("reset",te).submit(we.updateOriginal),d.bind("resize orientationChanged",ae),w.keypress(ee).keydown(Z).keydown(G).keyup(ce).blur(ve).keyup(ye).bind("paste",Q).bind(t,de).bind(n,oe),m.emoticonsCompat&&l.getSelection&&w.keyup(he),k.blur(ve).keyup(ye).keydown(Z).bind(n,oe),x.mousedown(ne).blur(ve).bind(t,de).bind("beforedeactivate keyup mouseup",U).keyup(ce).focus(function(){D=null}),g.bind("selectionchanged",ue).bind("selectionchanged",se).bind("selectionchanged valuechanged nodechanged",oe)},F=function(){var t,n=we.commands,o=(m.toolbarExclude||"").split(","),i=m.toolbar.split("|");v=e('<div class="sceditor-toolbar" unselectable="on" />'),e.each(i,function(i,a){t=e('<div class="sceditor-group" />'),e.each(a.split(","),function(i,a){var r,l,c=n[a];!c||e.inArray(a,o)>-1||(l=c.shortcut,r=s("toolbarButton",{name:a,dispName:we._(c.tooltip||a)},!0),r.data("sceditor-txtmode",!!c.txtExec).data("sceditor-wysiwygmode",!!c.exec).toggleClass("disabled",!c.exec).mousedown(function(){(!f||9>f)&&(A=!0)}).click(function(){var t=e(this);return t.hasClass("disabled")||z(t,c),se(),!1}),c.tooltip&&r.attr("title",we._(c.tooltip)+(l?"("+l+")":"")),l&&we.addShortcut(l,a),c.state?De.push({name:a,state:c.state}):"string"==typeof c.exec&&De.push({name:a,state:c.exec}),t.append(r),Ee[a]=r)}),t[0].firstChild&&v.append(t)}),e(m.toolbarContainer||g).append(v)},q=function(){e.each(we.commands,function(t,n){n.forceNewLineAfter&&e.isArray(n.forceNewLineAfter)&&(Se=e.merge(Se,n.forceNewLineAfter))}),ce()},$=function(){var t,n,o,i,a,r,s=e('<div class="sceditor-grip" />'),c=e('<div class="sceditor-resize-cover" />'),d="touchmove mousemove",p="touchcancel touchend mouseup",h=0,v=0,y=0,b=0,w=0,x=0,k=g.width(),C=g.height(),S=!1,D=we.rtl();t=m.resizeMinHeight||C/1.5,n=m.resizeMaxHeight||2.5*C,o=m.resizeMinWidth||k/1.25,i=m.resizeMaxWidth||1.25*k,a=function(e){"touchmove"===e.type?(e=l.event,y=e.changedTouches[0].pageX,b=e.changedTouches[0].pageY):(y=e.pageX,b=e.pageY);var a=x+(b-v),r=D?w-(y-h):w+(y-h);i>0&&r>i&&(r=i),o>0&&o>r&&(r=o),m.resizeWidth||(r=!1),n>0&&a>n&&(a=n),t>0&&t>a&&(a=t),m.resizeHeight||(a=!1),(r||a)&&(we.dimensions(r,a),7>f&&g.height(a)),e.preventDefault()},r=function(e){S&&(S=!1,c.hide(),g.removeClass("resizing").height("auto"),u.unbind(d,a),u.unbind(p,r),e.preventDefault())},g.append(s),g.append(c.hide()),s.bind("touchstart mousedown",function(e){"touchstart"===e.type?(e=l.event,h=e.touches[0].pageX,v=e.touches[0].pageY):(h=e.pageX,v=e.pageY),w=g.width(),x=g.height(),S=!0,g.addClass("resizing"),c.show(),u.bind(d,a),u.bind(p,r),7>f&&g.height(x),e.preventDefault()})},K=function(){var t,n=m.emoticons,o=m.emoticonsRoot;e.isPlainObject(n)&&m.emoticonsEnabled&&e.each(n,function(i,a){e.each(a,function(e,a){o&&(a={url:o+(a.url||a),tooltip:a.tooltip||e},n[i][e]=a),t=c.createElement("img"),t.src=a.url||a,Ce.push(t)})})},fe=function(){var t,n,o=x[0],a=w[0],r=a.firstChild,s=!!m.autofocusEnd;if(g.is(":visible")){if(we.sourceMode())return n=s?C.value.length:0,void(C.setSelectionRange?C.setSelectionRange(n,n):(t=C.createTextRange(),t.moveEnd("character",n),t.collapse(!1),t.select()));if(i.removeWhiteSpace(a),s)for((r=a.lastChild)||(r=o.createElement("p"),w.append(r));r.lastChild;)r=r.lastChild,!p&&e(r).is("br")&&r.previousSibling&&(r=r.previousSibling);o.createRange?(t=o.createRange(),i.canHaveChildren(r)?t.selectNodeContents(r):(t.setStartBefore(r),s&&t.setStartAfter(r))):(t=a.createTextRange(),t.moveToElementText(3!==r.nodeType?r:r.parentNode)),t.collapse(!s),M.selectRange(t),I=t,s&&(x.scrollTop(a.scrollHeight),w.scrollTop(a.scrollHeight)),we.focus()}},we.readOnly=function(e){return"boolean"!=typeof e?"readonly"===k.attr("readonly"):(w[0].contentEditable=!e,e?k.attr("readonly","readonly"):k.removeAttr("readonly"),re(e),we)},we.rtl=function(e){var t=e?"rtl":"ltr";return"boolean"!=typeof e?"rtl"===k.attr("dir"):(w.attr("dir",t),k.attr("dir",t),g.removeClass("rtl").removeClass("ltr").addClass(t),we)},re=function(t){var n=we.inSourceMode()?"txtmode":"wysiwygmode";e.each(Ee,function(e,o){t!==!0&&o.data("sceditor-"+n)?o.removeClass("disabled"):o.addClass("disabled")})},we.width=function(e,t){return e||0===e?(we.dimensions(e,null,t),we):g.width()},we.dimensions=function(e,t,n){var o,i=8>f||c.documentMode<8?2:0;return e=!(!e&&0!==e)&&e,t=!(!t&&0!==t)&&t,e===!1&&t===!1?{width:we.width(),height:we.height()}:(y.data("outerWidthOffset")===o&&we.updateStyleCache(),e!==!1&&(n!==!1&&(m.width=e),t===!1&&(t=g.height(),n=!1),g.width(e),e&&e.toString().indexOf("%")>-1&&(e=g.width()),y.width(e-y.data("outerWidthOffset")),k.width(e-k.data("outerWidthOffset")),r.ios&&w&&w.width(e-y.data("outerWidthOffset")-(w.outerWidth(!0)-w.width()))),t!==!1&&(n!==!1&&(m.height=t),t&&t.toString().indexOf("%")>-1&&(t=g.height(t).height(),g.height("auto")),t-=m.toolbarContainer?0:v.outerHeight(!0),y.height(t-y.data("outerHeightOffset")),k.height(t-i-k.data("outerHeightOffset"))),we)},we.updateStyleCache=function(){y.data("outerWidthOffset",y.outerWidth(!0)-y.width()),k.data("outerWidthOffset",k.outerWidth(!0)-k.width()),y.data("outerHeightOffset",y.outerHeight(!0)-y.height()),k.data("outerHeightOffset",k.outerHeight(!0)-k.height())},we.height=function(e,t){return e||0===e?(we.dimensions(null,e,t),we):g.height()},we.maximize=function(t){return"undefined"==typeof t?g.is(".sceditor-maximize"):(t=!!t,7>f&&e("html, body").toggleClass("sceditor-maximize",t),g.toggleClass("sceditor-maximize",t),we.width(t?"100%":m.width,!1),we.height(t?"100%":m.height,!1),we)},we.expandToContent=function(e){var t=g.height(),n=t-y.height(),o=w[0].scrollHeight||x[0].documentElement.scrollHeight,i=m.resizeMaxHeight||2*(m.height||ke.height());o+=n,(e===!0||i>=o)&&o>t&&we.height(o)},we.destroy=function(){E&&(E.destroy(),M=null,D=null,E=null,u.unbind("click",ie),d.unbind("resize orientationChanged",ae),e(xe.form).unbind("reset",te).unbind("submit",we.updateOriginal),w.unbind(),x.unbind().find("*").remove(),k.unbind().remove(),v.remove(),g.unbind().find("*").unbind().remove(),g.remove(),ke.removeData("sceditor").removeData("sceditorbbcode").show(),N&&ke.attr("required","required"))},we.createDropDown=function(t,n,o,i){var a,r="sceditor-"+n,s=S&&S.is("."+r);we.closeDropDown(),s||(i!==!1&&e(o).find(":not(input,textarea)").filter(function(){return 1===this.nodeType}).attr("unselectable","on"),a={top:t.offset().top,left:t.offset().left,marginTop:t.outerHeight()},e.extend(a,m.dropDownCss),S=e('<div class="sceditor-dropdown '+r+'" />').css(a).append(o).appendTo(e("body")).on("click focusin",function(e){e.stopPropagation()}),setTimeout(function(){S.find("input,textarea").first().focus()}))},ie=function(e){3!==e.which&&S&&(be(),we.closeDropDown())},Q=function(e){var t,n,o,i=w[0],a=x[0],r=0,s=c.createElement("div"),l=a.createDocumentFragment(),d=!!e&&e.clipboardData;if(m.disablePasting)return!1;if(m.enablePasteFiltering){if(M.saveRange(),c.body.appendChild(s),d&&d.getData&&((t=d.getData("text/html"))||(t=d.getData("text/plain"))))return s.innerHTML=t,X(i,s),!1;for(o=w.scrollTop()||x.scrollTop();i.firstChild;)l.appendChild(i.firstChild);return n=function(e,t){if(e.childNodes.length>0||r>25){for(;e.firstChild;)t.appendChild(e.firstChild);for(;l.firstChild;)e.appendChild(l.firstChild);w.scrollTop(o),x.scrollTop(o),t.childNodes.length>0?X(e,t):M.restoreRange()}else r++,setTimeout(function(){n(e,t)},20)},n(i,s),we.focus(),!0}},X=function(t,n){i.fixNesting(n);var o=n.innerHTML;E.hasHandler("toSource")&&(o=E.callOnlyFirst("toSource",o,e(n))),n.parentNode.removeChild(n),E.hasHandler("toWysiwyg")&&(o=E.callOnlyFirst("toWysiwyg",o,!0)),M.restoreRange(),we.wysiwygEditorInsertHtml(o,null,!0)},we.closeDropDown=function(e){S&&(S.unbind().remove(),S=null),e===!0&&we.focus()},J=function(){return b.contentDocument?b.contentDocument:b.contentWindow&&b.contentWindow.document?b.contentWindow.document:b.document},we.wysiwygEditorInsertHtml=function(t,n,o){var a,r,s,l=y.height();we.focus(),(o||!e(_).is("code")&&0===e(_).parents("code").length)&&(M.insertHTML(t,n),M.saveRange(),j(w[0]),a=w.find("#sceditor-end-marker").show(),r=w.scrollTop()||x.scrollTop(),s=i.getOffset(a[0]).top+1.5*a.outerHeight(!0)-l,a.hide(),(s>r||r>s+l)&&(w.scrollTop(s),x.scrollTop(s)),ge(!1),M.restoreRange(),ce())},we.wysiwygEditorInsertText=function(e,t){we.wysiwygEditorInsertHtml(a.entities(e),a.entities(t))},we.insertText=function(e,t){return we.inSourceMode()?we.sourceEditorInsertText(e,t):we.wysiwygEditorInsertText(e,t),we},we.sourceEditorInsertText=function(e,t){var n,o,i,a=C.selectionStart,r=C.selectionEnd;o=C.scrollTop,C.focus(),"undefined"!=typeof a?(i=C.value,t&&(e+=i.substring(a,r)+t),C.value=i.substring(0,a)+e+i.substring(r,i.length),C.selectionStart=a+e.length-(t?t.length:0),C.selectionEnd=C.selectionStart):(n=c.selection.createRange(),t&&(e+=n.text+t),n.text=e,t&&n.moveEnd("character",0-t.length),n.moveStart("character",n.End-n.Start),n.select()),C.scrollTop=o,C.focus(),ge()},we.getRangeHelper=function(){return M},we.sourceEditorCaret=function(e){var t,n={};return C.focus(),"undefined"!=typeof C.selectionStart?e?(C.selectionStart=e.start,C.selectionEnd=e.end):(n.start=C.selectionStart,n.end=C.selectionEnd):(t=c.selection.createRange(),e?(t.moveEnd("character",e.end),t.moveStart("character",e.start),t.select()):(n.start=t.Start,n.end=t.End)),e?this:n},we.val=function(e,t){return"string"!=typeof e?we.inSourceMode()?we.getSourceEditorValue(!1):we.getWysiwygEditorValue(t):(we.inSourceMode()?we.setSourceEditorValue(e):(t!==!1&&E.hasHandler("toWysiwyg")&&(e=E.callOnlyFirst("toWysiwyg",e)),we.setWysiwygEditorValue(e)),we)},we.insert=function(t,n,o,i,a){if(we.inSourceMode())return we.sourceEditorInsertText(t,n),we;if(n){var r=M.selectedHtml(),s=e("<div>").appendTo(e("body")).hide().html(r);o!==!1&&E.hasHandler("toSource")&&(r=E.callOnlyFirst("toSource",r,s)),s.remove(),t+=r+n}return o!==!1&&E.hasHandler("toWysiwyg")&&(t=E.callOnlyFirst("toWysiwyg",t,!0)),o!==!1&&a===!0&&(t=t.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")),we.wysiwygEditorInsertHtml(t),we},we.getWysiwygEditorValue=function(e){var t,n,o=M.hasSelection();return o?M.saveRange():D&&D.getBookmark&&(n=D.getBookmark()),i.fixNesting(w[0]),t=w.html(),e!==!1&&E.hasHandler("toSource")&&(t=E.callOnlyFirst("toSource",t,w)),o?(M.restoreRange(),D=null):n&&(D.moveToBookmark(n),D=null),t},we.getBody=function(){return w},we.getContentAreaContainer=function(){return y},we.getSourceEditorValue=function(e){var t=k.val();return e!==!1&&E.hasHandler("toWysiwyg")&&(t=E.callOnlyFirst("toWysiwyg",t)),t},we.setWysiwygEditorValue=function(e){e||(e="<p>"+(f?"":"<br />")+"</p>"),w[0].innerHTML=e,j(w[0]),ce(),ge()},we.setSourceEditorValue=function(e){k.val(e),ge()},we.updateOriginal=function(){ke.val(we.val())},j=function(t){if(m.emoticonsEnabled&&!e(t).parents("code").length){var n=t.ownerDocument,o="\\s| | | | |&nbsp;",r=[],l=[],c=e.extend({},m.emoticons.more,m.emoticons.dropdown,m.emoticons.hidden);e.each(c,function(e){m.emoticonsCompat&&(l[e]=new RegExp("(>|^|"+o+")"+a.regex(e)+"($|<|"+o+")")),r.push(e)});var d=function(t){for(t=t.firstChild;t;){var o,a,u,f,p,h,g,v=t.parentNode,y=t.nodeValue;if(3!==t.nodeType)e(t).is("code")||d(t);else if(y)for(p=r.length;p--;)a=r[p],g=m.emoticonsCompat?y.search(l[a]):y.indexOf(a),g>-1&&(h=t.nextSibling,u=c[a],o=y.substr(g).split(a),y=y.substr(0,g)+o.shift(),t.nodeValue=y,f=i.parseHTML(s("emoticon",{key:a,url:u.url||u,tooltip:u.tooltip||a}),n),v.insertBefore(f[0],h),v.insertBefore(n.createTextNode(o.join(a)),h));t=t.nextSibling}};d(t),m.emoticonsCompat&&(Me=w.find("img[data-sceditor-emoticon]"))}},we.inSourceMode=function(){return g.hasClass("sourceMode")},we.sourceMode=function(e){var t=we.inSourceMode();return"boolean"!=typeof e?t:((t&&!e||!t&&e)&&we.toggleSourceMode(),we)},we.toggleSourceMode=function(){var e=we.inSourceMode();(r.isWysiwygSupported||!e)&&(e||(M.saveRange(),M.clear()),we.blur(),e?we.setWysiwygEditorValue(we.getSourceEditorValue()):we.setSourceEditorValue(we.getWysiwygEditorValue()),D=null,k.toggle(),y.toggle(),g.toggleClass("wysiwygMode",e).toggleClass("sourceMode",!e),re(),se())},le=function(){return C.focus(),"undefined"!=typeof C.selectionStart?C.value.substring(C.selectionStart,C.selectionEnd):c.selection.createRange().text},z=function(t,n){we.inSourceMode()?n.txtExec&&(e.isArray(n.txtExec)?we.sourceEditorInsertText.apply(we,n.txtExec):n.txtExec.call(we,t,le())):n.exec&&(e.isFunction(n.exec)?n.exec.call(we,t):we.execCommand(n.exec,n.hasOwnProperty("execParam")?n.execParam:null))},U=function(){f&&(D=M.selectedRange())},we.execCommand=function(t,n){var o=!1,i=we.commands[t],a=e(M.parentNode());if(we.focus(),!a.is("code")&&0===a.parents("code").length){try{o=x[0].execCommand(t,!1,n)}catch(r){}!o&&i&&i.errorMessage&&alert(we._(i.errorMessage)),se()}},de=function(){function t(){M&&!M.compare(I)&&(I=M.cloneSelected(),g.trigger(e.Event("selectionchanged"))),R=!1}R||(R=!0,f?t():setTimeout(t,100))},ue=function(){var t,n=M.parentNode();O!==n&&(t=O,O=n,_=M.getFirstBlockParent(n),g.trigger(e.Event("nodechanged",{oldNode:t,newNode:O})))},we.currentNode=function(){return O},we.currentBlockNode=function(){return _},se=function(e){var t,n,o="active",i=x[0],a=we.sourceMode();if(we.readOnly())return void v.find(o).removeClass(o);
a||(n=e?e.newNode:M.parentNode(),t=M.getFirstBlockParent(n));for(var r=0;r<De.length;r++){var s=0,l=Ee[De[r].name],c=De[r].state,d=a&&!l.data("sceditor-txtmode")||!a&&!l.data("sceditor-wysiwygmode");if("string"==typeof c){if(!a)try{s=i.queryCommandEnabled(c)?0:-1,s>-1&&(s=i.queryCommandState(c)?1:0)}catch(u){}}else d||(s=c.call(we,n,t));l.toggleClass("disabled",d||0>s).toggleClass(o,s>0)}},ee=function(t){var n,o,a,r,s="code,blockquote,pre",l="li,ul,ol";return t.originalEvent.defaultPrevented?void 0:(we.closeDropDown(),n=e(_).closest(s+","+l).first(),13===t.which&&n.length&&!n.is(l)?(D=null,o=x[0].createElement("br"),M.insertNode(o),p||(a=o.parentNode,r=a.lastChild,r&&3===r.nodeType&&""===r.nodeValue&&(a.removeChild(r),r=a.lastChild),!i.isInline(a,!0)&&r===o&&i.isInline(o.previousSibling)&&M.insertHTML("<br>")),!1):void 0)},ce=function(){var t,n,o,a=w[0];i.rTraverse(a,function(r){return t=r.nodeName.toLowerCase(),e.inArray(t,Se)>-1&&(n=!0),3===r.nodeType&&!/^\s*$/.test(r.nodeValue)||"br"===t||p&&!r.firstChild&&!i.isInline(r,!1)?(n&&(o=x[0].createElement("p"),o.className="sceditor-nlf",o.innerHTML=p?"":"<br />",a.appendChild(o)),!1):void 0})},te=function(){we.val(ke.val())},ne=function(){we.closeDropDown(),D=null},ae=function(){var e=m.height,t=m.width;we.maximize()?we.dimensions("100%","100%",!1):(e&&e.toString().indexOf("%")>-1||t&&t.toString().indexOf("%")>-1)&&we.dimensions(t,e)},we._=function(){var e,t=arguments;return T&&T[t[0]]&&(t[0]=T[t[0]]),t[0].replace(/\{(\d+)\}/g,function(n,o){return t[o-0+1]!==e?t[o-0+1]:"{"+o+"}"})},oe=function(t){E.call(t.type+"Event",t,we);var n=t.target===C?"scesrc":"scewys",o=e.Event(t);o.type=n+t.type,g.trigger(o,we)},we.bind=function(t,n,o,i){t=t.split(" ");for(var a=t.length;a--;)e.isFunction(n)&&(o||g.bind("scewys"+t[a],n),i||g.bind("scesrc"+t[a],n),"valuechanged"===t[a]&&(ge.hasHandler=!0));return we},we.unbind=function(t,n,o,i){t=t.split(" ");for(var a=t.length;a--;)e.isFunction(n)&&(o||g.unbind("scewys"+t[a],n),i||g.unbind("scesrc"+t[a],n));return we},we.blur=function(t,n,o){return e.isFunction(t)?we.bind("blur",t,n,o):we.sourceMode()?k.blur():w.blur(),we},we.focus=function(t,n,o){if(e.isFunction(t))we.bind("focus",t,n,o);else if(we.inSourceMode())C.focus();else{var i,a=M.selectedRange();I||M.hasSelection()||fe(),!p&&a&&1===a.endOffset&&a.collapsed&&(i=a.endContainer,i&&1===i.childNodes.length&&e(i.firstChild).is("br")&&(a.setStartBefore(i.firstChild),a.collapse(!0),M.selectRange(a))),b.contentWindow.focus(),w[0].focus(),D&&(M.selectRange(D),D=null)}return we},we.keyDown=function(e,t,n){return we.bind("keydown",e,t,n)},we.keyPress=function(e,t,n){return we.bind("keypress",e,t,n)},we.keyUp=function(e,t,n){return we.bind("keyup",e,t,n)},we.nodeChanged=function(e){return we.bind("nodechanged",e,!1,!0)},we.selectionChanged=function(e){return we.bind("selectionchanged",e,!1,!0)},we.valueChanged=function(e,t,n){return we.bind("valuechanged",e,t,n)},pe=function(t){var n,o=0,i=we.emoticonsCache,a=String.fromCharCode(t.which);return e(_).is("code")||e(_).parents("code").length?void 0:(i||(i=[],e.each(e.extend({},m.emoticons.more,m.emoticons.dropdown,m.emoticons.hidden),function(e,t){i[o++]=[e,s("emoticon",{key:e,url:t.url||t,tooltip:t.tooltip||e})]}),i.sort(function(e,t){return e[0].length-t[0].length}),we.emoticonsCache=i,we.longestEmoticonCode=i[i.length-1][0].length),n=M.raplaceKeyword(we.emoticonsCache,!0,!0,we.longestEmoticonCode,m.emoticonsCompat,a),n&&m.emoticonsCompat?(Me=w.find("img[data-sceditor-emoticon]"),/^\s$/.test(a)):!n)},he=function(){if(Me.length){var t,n,o,i,a,r,s=we.currentBlockNode(),l=!1,c=/[^\s\xA0\u2002\u2003\u2009\u00a0]+/;Me=e.map(Me,function(d){return d&&d.parentNode?e.contains(s,d)?(t=d.previousSibling,n=d.nextSibling,a=t.nodeValue,null===a&&(a=t.innerText||""),t&&c.test(t.nodeValue.slice(-1))||n&&c.test((n.nodeValue||"")[0])?(o=d.parentNode,i=M.cloneSelected(),r=i.startContainer,a+=e(d).data("sceditor-emoticon"),r===n?l=a.length+i.startOffset:r===s&&s.childNodes[i.startOffset]===n?l=a.length:r===t&&(l=i.startOffset),n&&3===n.nodeType||(n=o.insertBefore(o.ownerDocument.createTextNode(""),n)),n.insertData(0,a),o.removeChild(t),o.removeChild(d),l!==!1&&(i.setStart(n,l),i.collapse(!0),M.selectRange(i)),null):d):d:null})}},we.emoticons=function(t){return t||t===!1?(m.emoticonsEnabled=t,t?(w.keypress(pe),we.sourceMode()||(M.saveRange(),j(w[0]),Me=w.find("img[data-sceditor-emoticon]"),ge(!1),M.restoreRange())):(w.find("img[data-sceditor-emoticon]").replaceWith(function(){return e(this).data("sceditor-emoticon")}),Me=[],w.unbind("keypress",pe),ge()),we):m.emoticonsEnabled},we.css=function(t){return P||(P=e('<style id="#inline" />',x[0]).appendTo(x.find("head"))[0]),"string"!=typeof t?P.styleSheet?P.styleSheet.cssText:P.innerHTML:(P.styleSheet?P.styleSheet.cssText=t:P.innerHTML=t,we)},Z=function(e){var t=[],n={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":": ","'":'"',",":"<",".":">","/":"?","\\":"|","[":"{","]":"}"},o={8:"backspace",9:"tab",13:"enter",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"win",92:"win",93:"select",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scrolllock",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},i={109:"-",110:"del",111:"/",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9"},a=e.which,r=o[a]||String.fromCharCode(a).toLowerCase();return e.ctrlKey&&t.push("ctrl"),e.altKey&&t.push("alt"),e.shiftKey&&(t.push("shift"),i[a]?r=i[a]:n[r]&&(r=n[r])),r&&(16>a||a>18)&&t.push(r),t=t.join("+"),Te[t]?Te[t].call(we):void 0},we.addShortcut=function(e,t){return e=e.toLowerCase(),Te[e]="string"==typeof t?function(){return z(Ee[t],we.commands[t]),!1}:t,we},we.removeShortcut=function(e){return delete Te[e.toLowerCase()],we},G=function(t){var n,o,i,a,r;if(!m.disableBlockRemove&&8===t.which&&(a=M.selectedRange())&&(l.getSelection?(n=a.startContainer,o=a.startOffset):(n=a.parentElement(),i=x[0].selection.createRange(),i.moveToElementText(n),i.setEndPoint("EndToStart",a),o=i.text.length),0===o&&(r=me()))){for(;n!==r;){for(;n.previousSibling;)if(n=n.previousSibling,3!==n.nodeType||n.nodeValue)return;if(!(n=n.parentNode))return}if(r&&!e(r).is("body"))return we.clearBlockFormatting(r),!1}},me=function(){for(var t=_;!i.hasStyling(t)||i.isInline(t,!0);)if(!(t=t.parentNode)||e(t).is("body"))return;return t},we.clearBlockFormatting=function(t){return t=t||me(),!t||e(t).is("body")?we:(M.saveRange(),t.className="",D=null,e(t).attr("style",""),e(t).is("p,div,td")||i.convertElement(t,"p"),M.restoreRange(),we)},ge=function(t){if(E&&(E.hasHandler("valuechangedEvent")||ge.hasHandler)){var n,o=we.sourceMode(),i=!o&&M.hasSelection();t=t!==!1&&!x[0].getElementById("sceditor-start-marker"),ye.timer&&(clearTimeout(ye.timer),ye.timer=!1),i&&t&&M.saveRange(),n=o?k.val():w.html(),n!==ge.lastHtmlValue&&(ge.lastHtmlValue=n,g.trigger(e.Event("valuechanged",{rawValue:o?we.val():n}))),i&&t&&M.removeMarkers()}},ve=function(){ye.timer&&ge()},ye=function(e){var t=e.which,n=ye.lastChar,o=13===n||32===n,i=8===n||46===n;ye.lastChar=t,13===t||32===t?o?ye.triggerNextChar=!0:ge():8===t||46===t?i?ye.triggerNextChar=!0:ge():ye.triggerNextChar&&(ge(),ye.triggerNextChar=!1),ye.timer&&clearTimeout(ye.timer),ye.timer=setTimeout(function(){ge()},1500)},be=function(){A||we.updateOriginal(),A=!1},H()};return h.locale={},h.command={get:function(e){return h.commands[e]||null},set:function(t,n){return!(!t||!n)&&(n=e.extend(h.commands[t]||{},n),n.remove=function(){h.command.remove(t)},h.commands[t]=n,this)},remove:function(e){return h.commands[e]&&delete h.commands[e],this}},h}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(){"use strict";var e={},t=function(t){var n=this,o=[],i=function(e){return"signal"+e.charAt(0).toUpperCase()+e.slice(1)},a=function(e,n){e=[].slice.call(e);var a,r,s=i(e.shift());for(a=0;a<o.length;a++)if(s in o[a]&&(r=o[a][s].apply(t,e),n))return r};n.call=function(){a(arguments,!1)},n.callOnlyFirst=function(){return a(arguments,!0)},n.hasHandler=function(e){var t=o.length;for(e=i(e);t--;)if(e in o[t])return!0;return!1},n.exists=function(t){return t in e&&(t=e[t],"function"==typeof t&&"object"==typeof t.prototype)},n.isRegistered=function(t){if(n.exists(t))for(var i=o.length;i--;)if(o[i]instanceof e[t])return!0;return!1},n.register=function(i){return!(!n.exists(i)||n.isRegistered(i))&&(i=new e[i],o.push(i),"init"in i&&i.init.call(t),!0)},n.deregister=function(i){var a,r=o.length,s=!1;if(!n.isRegistered(i))return s;for(;r--;)o[r]instanceof e[i]&&(a=o.splice(r,1)[0],s=!0,"destroy"in a&&a.destroy.call(t));return s},n.destroy=function(){for(var e=o.length;e--;)"destroy"in o[e]&&o[e].destroy.call(t);o=[],t=null}};return t.plugins=e,t}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(e,t){"use strict";var o=n(1),i=navigator.userAgent;t.ie=function(){var e,t=3,n=document,o=n.createElement("div"),i=o.getElementsByTagName("i");do o.innerHTML="<!--[if gt IE "+ ++t+"]><i></i><![endif]-->";while(i[0]);return n.documentMode&&n.all&&window.atob&&(t=10),4===t&&n.documentMode&&(t=11),t>4?t:e}(),t.ios=/iPhone|iPod|iPad| wosbrowser\//i.test(i),t.isWysiwygSupported=function(){var e,n,a,r=o('<p contenteditable="true">')[0].contentEditable;return(r!==a||"inherit"!==r)&&(n=/Opera Mobi|Opera Mini/i.test(i),/Android/i.test(i)&&(n=!0,/Safari/.test(i)&&(e=/Safari\/(\d+)/.exec(i),n=!e||!e[1]||e[1]<534)),/ Silk\//i.test(i)&&(e=/AppleWebKit\/(\d+)/.exec(i),n=!e||!e[1]||e[1]<534),t.ios&&(n=/OS [0-4](_\d)+ like Mac/i.test(i)),/Firefox/i.test(i)&&(n=!1),/OneBrowser/i.test(i)&&(n=!1),"UCWEB"===navigator.vendor&&(n=!1),!n)}()}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(e,t){"use strict";var n=/^(?:https?|s?ftp|mailto|spotify|skype|ssh|teamspeak|tel):|(?:\/\/)/i;t.regex=function(e){return e.replace(/([\-.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")},t.entities=function(e,t){if(!e)return e;var n={"&":"&amp;","<":"&lt;",">":"&gt;","  ":" &nbsp;","\r\n":"\n","\r":"\n","\n":"<br />"};return t!==!1&&(n['"']="&#34;",n["'"]="&#39;",n["`"]="&#96;"),e=e.replace(/ {2}|\r\n|[&<>\r\n'"`]/g,function(e){return n[e]||e})},t.uriScheme=function(e){var t,o=/^[^\/]*:/i,i=window.location;return e&&o.test(e)&&!n.test(e)?(t=i.pathname.split("/"),t.pop(),i.protocol+"//"+i.host+t.join("/")+"/"+e):e}}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(){"use strict";var e=n(1),t=n(4).ie,o=n(10),i=t&&11>t,a={bold:{exec:"bold",tooltip:"Bold",shortcut:"ctrl+b"},italic:{exec:"italic",tooltip:"Italic",shortcut:"ctrl+i"},underline:{exec:"underline",tooltip:"Underline",shortcut:"ctrl+u"},strike:{exec:"strikethrough",tooltip:"Strikethrough"},subscript:{exec:"subscript",tooltip:"Subscript"},superscript:{exec:"superscript",tooltip:"Superscript"},left:{exec:"justifyleft",tooltip:"Align left"},center:{exec:"justifycenter",tooltip:"Center"},right:{exec:"justifyright",tooltip:"Align right"},justify:{exec:"justifyfull",tooltip:"Justify"},font:{_dropDown:function(t,n,i){for(var a=0,r=t.opts.fonts.split(","),s=e("<div />"),l=function(){return i(e(this).data("font")),t.closeDropDown(!0),!1};a<r.length;a++)s.append(o("fontOpt",{font:r[a]},!0).click(l));t.createDropDown(n,"font-picker",s)},exec:function(e){var t=this;a.font._dropDown(t,e,function(e){t.execCommand("fontname",e)})},tooltip:"Font Name"},size:{_dropDown:function(t,n,i){for(var a=e("<div />"),r=function(n){i(e(this).data("size")),t.closeDropDown(!0),n.preventDefault()},s=1;7>=s;s++)a.append(o("sizeOpt",{size:s},!0).click(r));t.createDropDown(n,"fontsize-picker",a)},exec:function(e){var t=this;a.size._dropDown(t,e,function(e){t.execCommand("fontsize",e)})},tooltip:"Font Size"},color:{_dropDown:function(t,n,o){var i,r,s,l,c={r:255,g:255,b:255},d=e("<div />"),u=t.opts.colors?t.opts.colors.split("|"):new Array(21),f=[],p=a.color;if(!p._htmlCache){for(i=0;i<u.length;++i){for(l=u[i]?u[i].split(","):new Array(21),f.push('<div class="sceditor-color-column">'),r=0;r<l.length;++r)s=l[r]||"#"+c.r.toString(16)+c.g.toString(16)+c.b.toString(16),f.push('<a href="#" class="sceditor-color-option" style="background-color: '+s+'" data-color="'+s+'"></a>'),r%5===0?(c.g-=51,c.b=255):c.b-=51;f.push("</div>"),i%5===0?(c.r-=51,c.g=255,c.b=255):(c.g=255,c.b=255)}p._htmlCache=f.join("")}d.append(p._htmlCache).find("a").click(function(n){o(e(this).attr("data-color")),t.closeDropDown(!0),n.preventDefault()}),t.createDropDown(n,"color-picker",d)},exec:function(e){var t=this;a.color._dropDown(t,e,function(e){t.execCommand("forecolor",e)})},tooltip:"Font Color"},removeformat:{exec:"removeformat",tooltip:"Remove Formatting"},cut:{exec:"cut",tooltip:"Cut",errorMessage:"Your browser does not allow the cut command. Please use the keyboard shortcut Ctrl/Cmd-X"},copy:{exec:"copy",tooltip:"Copy",errorMessage:"Your browser does not allow the copy command. Please use the keyboard shortcut Ctrl/Cmd-C"},paste:{exec:"paste",tooltip:"Paste",errorMessage:"Your browser does not allow the paste command. Please use the keyboard shortcut Ctrl/Cmd-V"},pastetext:{exec:function(e){var t,n,i=this;n=o("pastetext",{label:i._("Paste your text inside the following box:"),insert:i._("Insert")},!0),n.find(".button").click(function(e){t=n.find("#txt").val(),t&&i.wysiwygEditorInsertText(t),i.closeDropDown(!0),e.preventDefault()}),i.createDropDown(e,"pastetext",n)},tooltip:"Paste Text"},bulletlist:{exec:"insertunorderedlist",tooltip:"Bullet list"},orderedlist:{exec:"insertorderedlist",tooltip:"Numbered list"},indent:{state:function(t,n){var o,i,a,r=e(n),s=r.parents("ul,ol,menu"),l=s.first();if(s.length>1||l.children().length>1)return 0;if(r.is("ul,ol,menu")){if(o=this.getRangeHelper().selectedRange(),!(window.Range&&o instanceof Range))return r.is("li,ul,ol,menu")?0:-1;if(i=o.startContainer.parentNode,a=o.endContainer.parentNode,i!==i.parentNode.firstElementChild||e(a).is("li")&&a!==a.parentNode.lastElementChild)return 0}return-1},exec:function(){var t=this,n=e(t.getRangeHelper().getFirstBlockParent());t.focus(),n.parents("ul,ol,menu")&&t.execCommand("indent")},tooltip:"Add indent"},outdent:{state:function(t,n){return e(n).is("ul,ol,menu")||e(n).parents("ul,ol,menu").length>0?0:-1},exec:function(){var t=this,n=e(t.getRangeHelper().getFirstBlockParent());n.parents("ul,ol,menu")&&t.execCommand("outdent")},tooltip:"Remove one indent"},table:{forceNewLineAfter:["table"],exec:function(e){var t=this,n=o("table",{rows:t._("Rows:"),cols:t._("Cols:"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var o,a,r=n.find("#rows").val()-0,s=n.find("#cols").val()-0,l="<table>";if(!(1>r||1>s)){for(o=0;r>o;o++){for(l+="<tr>",a=0;s>a;a++)l+="<td>"+(i?"":"<br />")+"</td>";l+="</tr>"}l+="</table>",t.wysiwygEditorInsertHtml(l),t.closeDropDown(!0),e.preventDefault()}}),t.createDropDown(e,"inserttable",n)},tooltip:"Insert a table"},horizontalrule:{exec:"inserthorizontalrule",tooltip:"Insert a horizontal rule"},code:{forceNewLineAfter:["code"],exec:function(){this.wysiwygEditorInsertHtml("<code>",(i?"":"<br />")+"</code>")},tooltip:"Code"},image:{exec:function(e){var t=this,n=o("image",{url:t._("URL:"),width:t._("Width (optional):"),height:t._("Height (optional):"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var o=n.find("#image").val(),i=n.find("#width").val(),a=n.find("#height").val(),r="";i&&(r+=' width="'+i+'"'),a&&(r+=' height="'+a+'"'),o&&t.wysiwygEditorInsertHtml("<img"+r+' src="'+o+'" />'),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertimage",n)},tooltip:"Insert an image"},email:{exec:function(e){var t=this,n=o("email",{label:t._("E-mail:"),desc:t._("Description (optional):"),insert:t._("Insert")},!0);n.find(".button").click(function(e){var o=n.find("#email").val(),i=n.find("#des").val();o&&(t.focus(),!t.getRangeHelper().selectedHtml()||i?(i=i||o,t.wysiwygEditorInsertHtml('<a href="mailto:'+o+'">'+i+"</a>")):t.execCommand("createlink","mailto:"+o)),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertemail",n)},tooltip:"Insert an email"},link:{exec:function(e){var t=this,n=o("link",{url:t._("URL:"),desc:t._("Description (optional):"),ins:t._("Insert")},!0);n.find(".button").click(function(e){var o=n.find("#link").val(),i=n.find("#des").val();o&&(t.focus(),!t.getRangeHelper().selectedHtml()||i?(i=i||o,t.wysiwygEditorInsertHtml('<a href="'+o+'">'+i+"</a>")):t.execCommand("createlink",o)),t.closeDropDown(!0),e.preventDefault()}),t.createDropDown(e,"insertlink",n)},tooltip:"Insert a link"},unlink:{state:function(){var t=e(this.currentNode());return t.is("a")||t.parents("a").length>0?0:-1},exec:function(){var t=e(this.currentNode()),n=t.is("a")?t:t.parents("a").first();n.length&&n.replaceWith(n.contents())},tooltip:"Unlink"},quote:{forceNewLineAfter:["blockquote"],exec:function(e,t,n){var o="<blockquote>",a="</blockquote>";t?(n=n?"<cite>"+n+"</cite>":"",o=o+n+t+a,a=null):""===this.getRangeHelper().selectedHtml()&&(a=(i?"":"<br />")+a),this.wysiwygEditorInsertHtml(o,a)},tooltip:"Insert a Quote"},emoticon:{exec:function(t){var n=this,o=function(i){var a,r=n.opts.emoticonsCompat,s=n.getRangeHelper(),l=r&&" "!==s.getOuterText(!0,1)?" ":"",c=r&&" "!==s.getOuterText(!1,1)?" ":"",d=e("<div />"),u=e("<div />").appendTo(d),f=0,p=e.extend({},n.opts.emoticons.dropdown,i?n.opts.emoticons.more:{});return e.each(p,function(){f++}),f=Math.sqrt(f),e.each(p,function(t,o){u.append(e("<img />").attr({src:o.url||o,alt:t,title:o.tooltip||t}).click(function(){return n.insert(l+e(this).attr("alt")+c,null,!1).closeDropDown(!0),!1})),u.children().length>=f&&(u=e("<div />").appendTo(d))}),i||(a=e('<a class="sceditor-more">'+n._("More")+"</a>").click(function(){return n.createDropDown(t,"more-emoticons",o(!0)),!1}),d.append(a)),d};n.createDropDown(t,"emoticons",o(!1))},txtExec:function(e){a.emoticon.exec.call(this,e)},tooltip:"Insert an emoticon"},youtube:{_dropDown:function(e,t,n){var i,a=o("youtubeMenu",{label:e._("Video URL:"),insert:e._("Insert")},!0);a.find(".button").click(function(t){var o=a.find("#link").val();o&&(i=o.match(/(?:v=|v\/|embed\/|youtu.be\/)(.{11})/),i&&(o=i[1]),/^[a-zA-Z0-9_\-]{11}$/.test(o)?n(o):alert("Invalid YouTube video")),e.closeDropDown(!0),t.preventDefault()}),e.createDropDown(t,"insertlink",a)},exec:function(e){var t=this;a.youtube._dropDown(t,e,function(e){t.wysiwygEditorInsertHtml(o("youtube",{id:e}))})},tooltip:"Insert a YouTube video"},date:{_date:function(e){var t=new Date,n=t.getYear(),o=t.getMonth()+1,i=t.getDate();return 2e3>n&&(n=1900+n),10>o&&(o="0"+o),10>i&&(i="0"+i),e.opts.dateFormat.replace(/year/i,n).replace(/month/i,o).replace(/day/i,i)},exec:function(){this.insertText(a.date._date(this))},txtExec:function(){this.insertText(a.date._date(this))},tooltip:"Insert current date"},time:{_time:function(){var e=new Date,t=e.getHours(),n=e.getMinutes(),o=e.getSeconds();return 10>t&&(t="0"+t),10>n&&(n="0"+n),10>o&&(o="0"+o),t+":"+n+":"+o},exec:function(){this.insertText(a.time._time())},txtExec:function(){this.insertText(a.time._time())},tooltip:"Insert current time"},ltr:{state:function(e,t){return t&&"ltr"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),o=e(n);t.focus(),(n&&!o.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),o=e(n),n&&!o.is("body")))&&("ltr"===o.css("direction")?o.css("direction",""):o.css("direction","ltr"))},tooltip:"Left-to-Right"},rtl:{state:function(e,t){return t&&"rtl"===t.style.direction},exec:function(){var t=this,n=t.getRangeHelper().getFirstBlockParent(),o=e(n);t.focus(),(n&&!o.is("body")||(t.execCommand("formatBlock","p"),n=t.getRangeHelper().getFirstBlockParent(),o=e(n),n&&!o.is("body")))&&("rtl"===o.css("direction")?o.css("direction",""):o.css("direction","rtl"))},tooltip:"Right-to-Left"},print:{exec:"print",tooltip:"Print"},maximize:{state:function(){return this.maximize()},exec:function(){this.maximize(!this.maximize())},txtExec:function(){this.maximize(!this.maximize())},tooltip:"Maximize",shortcut:"ctrl+shift+m"},source:{state:function(){return this.sourceMode()},exec:function(){this.toggleSourceMode()},txtExec:function(){this.toggleSourceMode()},tooltip:"View source",shortcut:"ctrl+shift+s"},ignore:{}};return a}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(){"use strict";var e=n(1);return{toolbar:"bold,italic,underline,strike,subscript,superscript|left,center,right,justify|font,size,color,removeformat|cut,copy,paste,pastetext|bulletlist,orderedlist,indent,outdent|table|code,quote|horizontalrule,image,email,link,unlink|emoticon,youtube,date,time|ltr,rtl|print,maximize,source",toolbarExclude:null,style:"/css/jquery.sceditor.default.min.css",fonts:"Arial,Arial Black,Comic Sans MS,Courier New,Georgia,Impact,Sans-serif,Serif,Times New Roman,Trebuchet MS,Verdana",colors:null,locale:e("html").attr("lang")||"en",charset:"utf-8",emoticonsCompat:!1,emoticonsEnabled:!0,emoticonsRoot:"",emoticons:{dropdown:{":)":"/images/emoticons/smile.png",":angel:":"/images/emoticons/angel.png",":angry:":"/images/emoticons/angry.png","8-)":"/images/emoticons/cool.png",":'(":"/images/emoticons/cwy.png",":ermm:":"/images/emoticons/ermm.png",":D":"/images/emoticons/grin.png","<3":"/images/emoticons/heart.png",":(":"/images/emoticons/sad.png",":O":"/images/emoticons/shocked.png",":P":"/images/emoticons/tongue.png",";)":"/images/emoticons/wink.png"},more:{":alien:":"/images/emoticons/alien.png",":blink:":"/images/emoticons/blink.png",":blush:":"/images/emoticons/blush.png",":cheerful:":"/images/emoticons/cheerful.png",":devil:":"/images/emoticons/devil.png",":dizzy:":"/images/emoticons/dizzy.png",":getlost:":"/images/emoticons/getlost.png",":happy:":"/images/emoticons/happy.png",":kissing:":"/images/emoticons/kissing.png",":ninja:":"/images/emoticons/ninja.png",":pinch:":"/images/emoticons/pinch.png",":pouty:":"/images/emoticons/pouty.png",":sick:":"/images/emoticons/sick.png",":sideways:":"/images/emoticons/sideways.png",":silly:":"/images/emoticons/silly.png",":sleeping:":"/images/emoticons/sleeping.png",":unsure:":"/images/emoticons/unsure.png",":woot:":"/images/emoticons/w00t.png",":wassat:":"/images/emoticons/wassat.png"},hidden:{":whistling:":"/images/emoticons/whistling.png",":love:":"/images/emoticons/wub.png"}},width:null,height:null,resizeEnabled:!0,resizeMinWidth:null,resizeMinHeight:null,resizeMaxHeight:null,resizeMaxWidth:null,resizeHeight:!0,resizeWidth:!0,dateFormat:"year-month-day",toolbarContainer:null,enablePasteFiltering:!1,disablePasting:!1,readOnly:!1,rtl:!1,autofocus:!1,autofocusEnd:!0,autoExpand:!1,autoUpdate:!1,spellcheck:!0,runWithoutWysiwygSupport:!1,id:null,plugins:"",zIndex:null,bbcodeTrim:!1,disableBlockRemove:!1,parserOptions:{},dropDownCss:{}}}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(){"use strict";var e=n(1),t=n(9),o=n(5),i=n(4),a=i.ie,r=a&&11>a,s=function(t){return e("<p>",t.ownerDocument).append(t).html()},l=function(n,i){var l,c,d,u=i||n.contentDocument||n.document,f=n,p=!!n.getSelection,h="sceditor-start-marker",m="sceditor-end-marker",g="character",v=this;v.insertHTML=function(e,t){var n,o,i=v.selectedRange();if(!i)return!1;if(p){for(t&&(e+=v.selectedHtml()+t),o=u.createElement("p"),n=u.createDocumentFragment(),o.innerHTML=e;o.firstChild;)n.appendChild(o.firstChild);v.insertNode(n)}else i.pasteHTML(d(e,t,!0)),v.restoreRange()},d=function(n,o,i){var r,s,c=u.createElement("div"),d=e(c);if("string"==typeof n?(o&&(n+=v.selectedHtml()+o),d.html(n)):(d.append(n),o&&d.append(v.selectedRange().extractContents()).append(o)),r=c.lastChild){for(;!t.isInline(r.lastChild,!0);)r=r.lastChild;return t.canHaveChildren(r)&&(s=e(r),r.lastChild||s.append("​")),a&&9>a&&e(r).is("img")&&d.append("​"),v.removeMarkers(),(s||d).append(l(h)).append(l(m)),i?d.html():e(u.createDocumentFragment()).append(d.contents())[0]}},v.insertNode=function(e,n){if(p){var o=d(e,n),i=v.selectedRange(),a=i.commonAncestorContainer;if(!o)return!1;i.deleteContents(),a&&3!==a.nodeType&&!t.canHaveChildren(a)?a.parentNode.insertBefore(o,a):i.insertNode(o),v.restoreRange()}else v.insertHTML(s(e),n?s(n):null)},v.cloneSelected=function(){var e=v.selectedRange();return e?p?e.cloneRange():e.duplicate():void 0},v.selectedRange=function(){var e,t,n=p?f.getSelection():u.selection;if(n){if(n.getRangeAt&&n.rangeCount<=0){for(t=u.body;t.firstChild;)t=t.firstChild;e=u.createRange(),e.setStart(t,0),n.addRange(e)}return p&&(e=n.getRangeAt(0)),p||"Control"===n.type||(e=n.createRange()),c(e)?e:null}},c=function(e){var t;return e&&!p&&(t=e.parentElement()),!t||t.ownerDocument===u},v.hasSelection=function(){var e=p?f.getSelection():u.selection;return p||!e?e&&e.rangeCount>0:"None"!==e.type&&c(e.createRange())},v.selectedHtml=function(){var e,t=v.selectedRange();if(t){if(p)return e=u.createElement("p"),e.appendChild(t.cloneContents()),e.innerHTML;if(""!==t.text&&t.htmlText)return t.htmlText}return""},v.parentNode=function(){var e=v.selectedRange();return e?e.parentElement?e.parentElement():e.commonAncestorContainer:void 0},v.getFirstBlockParent=function(e){var n=function(e){return t.isInline(e,!0)?(e=e?e.parentNode:null,e?n(e):e):e};return n(e||v.parentNode())},v.insertNodeAt=function(e,t){var n=v.selectedRange(),o=v.cloneSelected();return!!o&&(o.collapse(e),p?o.insertNode(t):o.pasteHTML(s(t)),void v.selectRange(n))},l=function(e){v.removeMarker(e);var t=u.createElement("span");return t.id=e,t.style.lineHeight="0",t.style.display="none",t.className="sceditor-selection sceditor-ignore",t.innerHTML=" ",t},v.insertMarkers=function(){v.insertNodeAt(!0,l(h)),v.insertNodeAt(!1,l(m))},v.getMarker=function(e){return u.getElementById(e)},v.removeMarker=function(e){var t=v.getMarker(e);t&&t.parentNode.removeChild(t)},v.removeMarkers=function(){v.removeMarker(h),v.removeMarker(m)},v.saveRange=function(){v.insertMarkers()},v.selectRange=function(n){if(p){var o,i=f.getSelection(),a=n.endContainer;if(!r&&n.collapsed&&a&&!t.isInline(a,!0)){for(o=a.lastChild;o&&e(o).is(".sceditor-ignore");)o=o.previousSibling;if(e(o).is("br")){var s=u.createRange();s.setEndAfter(o),s.collapse(!1),v.compare(n,s)&&(n.setStartBefore(o),n.collapse(!0))}}i&&(v.clear(),i.addRange(n))}else n.select()},v.restoreRange=function(){var n,o,i,a=v.selectedRange(),r=v.getMarker(h),s=v.getMarker(m);return!!(r&&s&&a)&&(o=r.nextSibling===s,p?(a=u.createRange(),a.setStartBefore(r),a.setEndAfter(s)):(a=u.body.createTextRange(),n=u.body.createTextRange(),i=r.previousSibling,r.nextSibling!==s||i&&t.isInline(i,!0)&&!e(i).is("br")||e(r).before("​"),n.moveToElementText(r),a.setEndPoint("StartToStart",n),a.moveStart(g,0),n.moveToElementText(s),a.setEndPoint("EndToStart",n),a.moveEnd(g,0)),o&&a.collapse(!0),v.selectRange(a),void v.removeMarkers())},v.selectOuterText=function(e,t){var n=v.cloneSelected();return!!n&&(n.collapse(!1),p?(n.setStart(n.startContainer,n.startOffset-e),n.setEnd(n.endContainer,n.endOffset+t)):(n.moveStart(g,0-e),n.moveEnd(g,t)),void v.selectRange(n))},v.getOuterText=function(e,t){var n,o,i="",a=v.cloneSelected();return a?(a.collapse(!e),p?(n=a.startContainer.textContent,o=a.startOffset,e&&(o-=t,0>o&&(t+=o,o=0)),i=n.substr(o,t)):(e?a.moveStart(g,0-t):a.moveEnd(g,t),i=a.text),i):""},v.raplaceKeyword=function(e,t,n,i,a,r){n||e.sort(function(e,t){return e[0].length-t[0].length});var s,l,c,d,u,f,h,m,g="[\\s    ]",y=e.length,b=i||e[y-1][0].length;if(a){if(!p)return!1;b++}for(r=r||"",s=v.getOuterText(!0,b),u=s.length,l=s+r,t&&(l+=v.getOuterText(!1,b));y--;)if(h=e[y][0],m=h.length,d=u-1-m,c=a?l.substr(Math.max(0,d-1)).search(new RegExp("(?:"+g+")"+o.regex(h)+"(?="+g+")")):l.indexOf(h,d),c>-1){if(a&&(c+=d+1),c>u||u>c+m+(a?1:0))continue;return f=u-c,v.selectOuterText(f,m-f-(/^\S/.test(r)?1:0)),v.insertHTML(e[y][1]),!0}return!1},v.compare=function(e,t){var n=p?Range.END_TO_END:"EndToEnd",o=p?Range.START_TO_START:"StartToStart",i=p?"compareBoundaryPoints":"compareEndPoints";return t||(t=v.selectedRange()),e&&t?c(e)&&c(t)&&0===e[i](n,t)&&0===e[i](o,t):!e&&!t},v.clear=function(){var e=p?f.getSelection():u.selection;e&&(e.removeAllRanges?e.removeAllRanges():e.empty&&e.empty())}};return l}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))},function(e,t,n){var o;o=function(){"use strict";var e=n(1),t=n(4),o={},i={traverse:function(e,t,n,o,a){if(e)for(e=a?e.lastChild:e.firstChild;e;){var r=a?e.previousSibling:e.nextSibling;if(!n&&t(e)===!1||!o&&i.traverse(e,t,n,o,a)===!1||n&&t(e)===!1)return!1;e=r}},rTraverse:function(e,t,n,o){this.traverse(e,t,n,o,!0)},parseHTML:function(t,n){var o=[],i=(n||document).createElement("div");return i.innerHTML=t,e.merge(o,i.childNodes),o},hasStyling:function(t){var n=e(t);return t&&(!n.is("p,div")||t.className||n.attr("style")||!e.isEmptyObject(n.data()))},convertElement:function(e,n){for(var o,a,r=e.attributes,s=r.length,l=e.ownerDocument.createElement(n);s--;)a=r[s],(!t.ie||a.specified)&&(t.ie<8&&/style/i.test(a.name)?i.copyCSS(e,l):l.setAttribute(a.name,a.value));for(;o=e.firstChild;)l.appendChild(o);return e.parentNode.replaceChild(l,e),l},blockLevelList:"|body|hr|p|div|h1|h2|h3|h4|h5|h6|address|pre|form|table|tbody|thead|tfoot|th|tr|td|li|ol|ul|blockquote|center|",canHaveChildren:function(e){return!!/11?|9/.test(e.nodeType)&&"|iframe|area|base|basefont|br|col|frame|hr|img|input|isindex|link|meta|param|command|embed|keygen|source|track|wbr|".indexOf("|"+e.nodeName.toLowerCase()+"|")<0},isInline:function(e,t){var n,o=(e||{}).nodeType||3;return 1!==o?3===o:(n=e.tagName.toLowerCase(),"code"===n?!t:i.blockLevelList.indexOf("|"+n+"|")<0)},copyCSS:function(e,t){t.style.cssText=e.style.cssText+t.style.cssText},fixNesting:function(e){var t=function(e){for(;i.isInline(e.parentNode,!0);)e=e.parentNode;return e};i.traverse(e,function(e){if(1===e.nodeType&&!i.isInline(e,!0)&&i.isInline(e.parentNode,!0)){var n=t(e),o=n.parentNode,a=i.extractContents(n,e),r=e;i.copyCSS(n,r),o.insertBefore(a,n),o.insertBefore(r,n)}})},findCommonAncestor:function(t,n){return e(t).parents().has(e(n)).first()},getSibling:function(e,t){return e?(t?e.previousSibling:e.nextSibling)||i.getSibling(e.parentNode,t):null},removeWhiteSpace:function(t,n){for(var o,a,r,s,l,c,d,u,f=i.getSibling,p=i.isInline,h=t.firstChild;h;){if(d=h.nextSibling,o=h.nodeValue,a=h.nodeType,1===a&&h.firstChild&&(c=e(h).css("whiteSpace"),/pre(\-wrap)?$/i.test(c)||i.removeWhiteSpace(h,/line$/i.test(c))),3===a&&o){for(r=f(h),s=f(h,!0),u=!1;e(s).hasClass("sceditor-ignore");)s=f(s,!0);if(p(h)&&s){for(l=s;l.lastChild;)l=l.lastChild;u=3===l.nodeType?/[\t\n\r ]$/.test(l.nodeValue):!p(l)}o=o.replace(/\u200B/g,""),s&&p(s)&&!u||(o=o.replace(n?/^[\t ]+/:/^[\t\n\r ]+/,"")),r&&p(r)||(o=o.replace(n?/[\t ]+$/:/[\t\n\r ]+$/,"")),o.length?h.nodeValue=o.replace(n?/[\t ]+/g:/[\t\n\r ]+/g," "):t.removeChild(h)}h=d}},extractContents:function(t,n){var o,a=i.findCommonAncestor(t,n).get(0),r=!1,s=!1;return(o=function(a){var l,c=t.ownerDocument.createDocumentFragment();return i.traverse(a,function(i){return s||i===n?(s=!0,!1):(i===t&&(r=!0),void(e.contains(i,t)||r&&e.contains(i,n)?(l=i.cloneNode(!1),l.appendChild(o(i)),c.appendChild(l)):r&&!e.contains(c,i)&&c.appendChild(i)))},!1),c})(a)},getOffset:function(e){for(var t=0,n=0;e;)t+=e.offsetLeft,n+=e.offsetTop,e=e.offsetParent;return{left:t,top:n}},getStyle:function(t,n){var i,a,r,s=t.style;if(!s)return"";if(o[n]||(o[n]=e.camelCase(n)),n=o[n],r=s[n],"textAlign"===n){if(i=e(t),a=s.direction,r=r||i.css(n),i.parent().css(n)===r||"block"!==i.css("display")||i.is("hr")||i.is("th"))return"";if(a&&r&&(/right/i.test(r)&&"rtl"===a||/left/i.test(r)&&"ltr"===a))return""}return r},hasStyle:function(t,n,o){var a=i.getStyle(t,n);return!!a&&(!o||a===o||e.isArray(o)&&e.inArray(a,o)>-1)}};return i}.call(t,n,t,e),!(void 0!==o&&(e.exports=o));
},function(e,t,n){var o;o=function(){"use strict";var e={html:'<!DOCTYPE html><html{attrs}><head><style>.ie * {min-height: auto !important} .ie table td {height:15px}</style><meta http-equiv="Content-Type" content="text/html;charset={charset}" /><link rel="stylesheet" type="text/css" href="{style}" /></head><body contenteditable="true" {spellcheck}><p></p></body></html>',toolbarButton:'<a class="sceditor-button sceditor-button-{name}" data-sceditor-command="{name}" unselectable="on"><div unselectable="on">{dispName}</div></a>',emoticon:'<img src="{url}" data-sceditor-emoticon="{key}" alt="{key}" title="{tooltip}" />',fontOpt:'<a class="sceditor-font-option" href="#" data-font="{font}"><font face="{font}">{font}</font></a>',sizeOpt:'<a class="sceditor-fontsize-option" data-size="{size}" href="#"><font size="{size}">{size}</font></a>',pastetext:'<div><label for="txt">{label}</label> <textarea cols="20" rows="7" id="txt"></textarea></div><div><input type="button" class="button" value="{insert}" /></div>',table:'<div><label for="rows">{rows}</label><input type="text" id="rows" value="2" /></div><div><label for="cols">{cols}</label><input type="text" id="cols" value="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',image:'<div><label for="link">{url}</label> <input type="text" id="image" placeholder="http://" /></div><div><label for="width">{width}</label> <input type="text" id="width" size="2" /></div><div><label for="height">{height}</label> <input type="text" id="height" size="2" /></div><div><input type="button" class="button" value="{insert}" /></div>',email:'<div><label for="email">{label}</label> <input type="text" id="email" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{insert}" /></div>',link:'<div><label for="link">{url}</label> <input type="text" id="link" placeholder="http://" /></div><div><label for="des">{desc}</label> <input type="text" id="des" /></div><div><input type="button" class="button" value="{ins}" /></div>',youtubeMenu:'<div><label for="link">{label}</label> <input type="text" id="link" placeholder="http://" /></div><div><input type="button" class="button" value="{insert}" /></div>',youtube:'<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="{id}" frameborder="0" allowfullscreen></iframe>'};return function(t,n,o){var i=e[t];return $.each(n,function(e,t){i=i.replace(new RegExp("\\{"+e+"\\}","g"),t)}),o&&(i=$(i)),i}}.call(t,n,t,e),!(void 0!==o&&(e.exports=o))}]),function(e){"use strict";var t=e.sceditor,n=t.plugins,o=t.dom,i={bold:{txtExec:["<strong>","</strong>"]},italic:{txtExec:["<em>","</em>"]},underline:{txtExec:['<span style="text-decoration: underline;">',"</span>"]},strike:{txtExec:['<span style="text-decoration: line-through;">',"</span>"]},subscript:{txtExec:["<sub>","</sub>"]},superscript:{txtExec:["<sup>","</sup>"]},left:{txtExec:['<div style="text-align: left;">',"</div>"]},center:{txtExec:['<div style="text-align: center;">',"</div>"]},right:{txtExec:['<div style="text-align: right;">',"</div>"]},justify:{txtExec:['<div style="text-align: justify;">',"</div>"]},font:{txtExec:function(e){var n=this;t.command.get("font")._dropDown(n,e,function(e){n.insertText('<span style="font-family: '+e+';">',"</span>")})}},size:{txtExec:function(e){var n=this;t.command.get("size")._dropDown(n,e,function(e){n.insertText('<span style="font-size: '+e+';">',"</span>")})}},color:{txtExec:function(e){var n=this;t.command.get("color")._dropDown(n,e,function(e){n.insertText('<span style="color: '+e+';">',"</span>")})}},bulletlist:{txtExec:["<ul><li>","</li></ul>"]},orderedlist:{txtExec:["<ol><li>","</li></ol>"]},table:{txtExec:["<table><tr><td>","</td></tr></table>"]},horizontalrule:{txtExec:["<hr />"]},code:{txtExec:["<code>","</code>"]},image:{txtExec:function(e,t){var n=prompt(this._("Enter the image URL:"),t);n&&this.insertText('<img src="'+n+'" />')}},email:{txtExec:function(e,t){var n,o,i=t&&t.indexOf("@")>-1?null:t;n=prompt(this._("Enter the e-mail address:"),i?"":t),o=prompt(this._("Enter the displayed text:"),i||n)||n,n&&this.insertText('<a href="mailto:'+n+'">'+o+"</a>")}},link:{txtExec:function(e,t){var n=t&&t.indexOf("http://")>-1?null:t,o=prompt(this._("Enter URL:"),n?"http://":t),i=prompt(this._("Enter the displayed text:"),n||o)||o;o&&this.insertText('<a href="'+o+'">'+i+"</a>")}},quote:{txtExec:["<blockquote>","</blockquote>"]},youtube:{txtExec:function(e){var n=this;t.command.get("youtube")._dropDown(n,e,function(e){n.insertText('<iframe width="560" height="315" src="http://www.youtube.com/embed/{id}?wmode=opaque" data-youtube-id="'+e+'" frameborder="0" allowfullscreen></iframe>')})}},rtl:{txtExec:['<div stlye="direction: rtl;">',"</div>"]},ltr:{txtExec:['<div stlye="direction: ltr;">',"</div>"]}};t.XHTMLSerializer=function(){var n,i,a,r,s,l,c,d,u,f,p=this,h={indentStr:"\t"},m=[],g=0;n=function(e){var t={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"};return e?e.replace(/[&<>"]/g,function(e){return t[e]||e}):""},i=function(e){return e.replace(/[\r\n]/," ").replace(/[^\S|\u00A0]+/g," ")},p.serialize=function(e,t){if(m=[],t)for(e=e.firstChild;e;)a(e),e=e.nextSibling;else a(e);return m.join("")},a=function(e,t){switch(e.nodeType){case 1:var n=e.nodeName.toLowerCase();"!"===n?c(e):s(e,t);break;case 3:d(e,t);break;case 4:l(e);break;case 8:c(e);break;case 9:case 11:r(e);break;case 2:case 5:case 6:case 7:case 10:case 12:}},r=function(e){for(var t=e.firstChild;t;)a(t),t=t.nextSibling},s=function(i,r){var s,l,c,d=i.nodeName.toLowerCase(),p="iframe"===d,h=i.attributes.length,m=i.firstChild,v=r||/pre(?:\-wrap)?$/i.test(e(i).css("whiteSpace")),y=!i.firstChild&&!o.canHaveChildren(i)&&!p;if(!e(i).hasClass("sceditor-ignore")){for(u("<"+d,!r&&f(i));h--;)l=i.attributes[h],(!t.ie||l.specified||"input"===d&&"value"===l.name)&&(c=t.ie<8&&/style/i.test(l.name)?i.style.cssText:l.value,u(" "+l.name.toLowerCase()+'="'+n(c)+'"',!1));for(u(y?" />":">",!1),p||(s=m);s;)g++,a(s,v),s=s.nextSibling,g--;y||u("</"+d+">",!v&&!p&&f(i)&&m&&f(m))}},l=function(e){u("<![CDATA["+n(e.nodeValue)+"]]>")},c=function(e){u("<!-- "+n(e.nodeValue)+" -->")},d=function(e,t){var o=e.nodeValue;t||(o=i(o)),o&&u(n(o),!t&&f(e))},u=function(e,t){var n=g;if(t!==!1)for(m.length&&m.push("\n");n--;)m.push(h.indentStr);m.push(e)},f=function(e){var t=e.previousSibling;return 1!==e.nodeType&&t?!o.isInline(t):!t&&!o.isInline(e.parentNode)||!o.isInline(e)}},n.xhtml=function(){var a,r,s,l,c,d,u,f=this,p={},h={};f.init=function(){e.isEmptyObject(n.xhtml.converters||{})||e.each(n.xhtml.converters,function(t,n){e.each(n.tags,function(e){p[e]||(p[e]=[]),p[e].push(n)})}),this.commands=e.extend(!0,{},i,this.commands)},f.signalToSource=function(e,n){return n=n.jquery?n[0]:n,a(n),l(n),d(n),u(n),(new t.XHTMLSerializer).serialize(n,!0)},f.signalToWysiwyg=function(e){return e},f.convertTagTo=o.convertElement,r=function(n,o,i){p[n]&&e.each(p[n],function(a,r){r.tags[n]?e.each(r.tags[n],function(n,a){i.getAttributeNode&&(n=i.getAttributeNode(n),!n||t.ie<8&&!n.specified||a&&e.inArray(n.value,a)<0||r.conv.call(f,i,o))}):r.conv&&r.conv.call(f,i,o)})},a=function(t){o.traverse(t,function(t){var n=e(t),o=t.nodeName.toLowerCase();r("*",n,t),r(o,n,t)},!0)},s=function(e,t){var n=e.childNodes,i=e.nodeName.toLowerCase(),a=e.nodeValue,r=n.length;if(t&&"br"===i)return!0;if(!o.canHaveChildren(e))return!1;if(a&&/\S|\u00A0/.test(a))return!1;for(;r--;)if(!s(n[r],!e.previousSibling&&!e.nextSibling))return!1;return!0},l=function(t){o.traverse(t,function(t){var i,a=t.nodeName.toLowerCase(),r="iframe"!==a&&s(t),l=t.parentNode,c=t.nodeType,d=!o.isInline(t),u=t.previousSibling,f=t.nextSibling,p=t.ownerDocument,h=n.xhtml.allowedTags,m=n.xhtml.disallowedTags;if(3!==c&&(4===c?a="!cdata":("!"===a||8===c)&&(a="!comment"),r?i=!0:h&&h.length?i=e.inArray(a,h)<0:m&&m.length&&(i=e.inArray(a,m)>-1),i)){if(!r){for(d&&u&&o.isInline(u)&&l.insertBefore(p.createTextNode(" "),t);t.firstChild;)l.insertBefore(t.firstChild,f);d&&f&&o.isInline(f)&&l.insertBefore(p.createTextNode(" "),f)}l.removeChild(t)}},!0)},c=function(t,n){var o={};return t&&e.extend(o,t),n?(e.each(n,function(t,n){e.isArray(n)?o[t]=e.merge(o[t]||[],n):o[t]||(o[t]=null)}),o):o},u=function(t){var n=[],i=function(){n.length&&(e("<p>",t.ownerDocument).insertBefore(n[0]).append(n),n=[])};o.removeWhiteSpace(t);for(var a=t.firstChild;a;)o.isInline(a)&&!e(a).is(".sceditor-ignore")?n.push(a):i(),a=a.nextSibling;i()},d=function(t){var i,a,r,s,l,d,u=n.xhtml.allowedAttribs,f=u&&!e.isEmptyObject(u),p=n.xhtml.disallowedAttribs,m=p&&!e.isEmptyObject(p);h={},o.traverse(t,function(t){if(t.attributes&&(i=t.nodeName.toLowerCase(),s=t.attributes.length))for(h[i]||(h[i]=f?c(u["*"],u[i]):c(p["*"],p[i]));s--;)a=t.attributes[s],r=a.name,l=h[i][r],d=!1,f?d=null!==l&&(!e.isArray(l)||e.inArray(a.value,l)<0):m&&(d=null===l||e.isArray(l)&&e.inArray(a.value,l)>-1),d&&t.removeAttribute(r)})}},n.xhtml.converters=[{tags:{"*":{width:null}},conv:function(e,t){t.css("width",t.attr("width")).removeAttr("width")}},{tags:{"*":{height:null}},conv:function(e,t){t.css("height",t.attr("height")).removeAttr("height")}},{tags:{li:{value:null}},conv:function(e,n){t.ie<8?e.removeAttribute("value"):n.removeAttr("value")}},{tags:{"*":{text:null}},conv:function(e,t){t.css("color",t.attr("text")).removeAttr("text")}},{tags:{"*":{color:null}},conv:function(e,t){t.css("color",t.attr("color")).removeAttr("color")}},{tags:{"*":{face:null}},conv:function(e,t){t.css("fontFamily",t.attr("face")).removeAttr("face")}},{tags:{"*":{align:null}},conv:function(e,t){t.css("textAlign",t.attr("align")).removeAttr("align")}},{tags:{"*":{border:null}},conv:function(e,t){t.css("borderWidth",t.attr("border")).removeAttr("border")}},{tags:{applet:{name:null},img:{name:null},layer:{name:null},map:{name:null},object:{name:null},param:{name:null}},conv:function(e,t){t.attr("id")||t.attr("id",t.attr("name")),t.removeAttr("name")}},{tags:{"*":{vspace:null}},conv:function(e,t){t.css("marginTop",t.attr("vspace")-0).css("marginBottom",t.attr("vspace")-0).removeAttr("vspace")}},{tags:{"*":{hspace:null}},conv:function(e,t){t.css("marginLeft",t.attr("hspace")-0).css("marginRight",t.attr("hspace")-0).removeAttr("hspace")}},{tags:{hr:{noshade:null}},conv:function(e,t){t.css("borderStyle","solid").removeAttr("noshade")}},{tags:{"*":{nowrap:null}},conv:function(e,t){t.css("white-space","nowrap").removeAttr("nowrap")}},{tags:{big:null},conv:function(t){e(this.convertTagTo(t,"span")).css("fontSize","larger")}},{tags:{small:null},conv:function(t){e(this.convertTagTo(t,"span")).css("fontSize","smaller")}},{tags:{b:null},conv:function(t){e(this.convertTagTo(t,"strong"))}},{tags:{u:null},conv:function(t){e(this.convertTagTo(t,"span")).css("textDecoration","underline")}},{tags:{i:null},conv:function(t){e(this.convertTagTo(t,"em"))}},{tags:{s:null,strike:null},conv:function(t){e(this.convertTagTo(t,"span")).css("textDecoration","line-through")}},{tags:{dir:null},conv:function(e){this.convertTagTo(e,"ul")}},{tags:{center:null},conv:function(t){e(this.convertTagTo(t,"div")).css("textAlign","center")}},{tags:{font:{size:null}},conv:function(e,n){var o=n.css("fontSize"),i=o;"+0"!==i&&(t.ie<9&&(i=10,o>1&&(i=13),o>2&&(i=16),o>3&&(i=18),o>4&&(i=24),o>5&&(i=32),o>6&&(i=48)),n.css("fontSize",i)),n.removeAttr("size")}},{tags:{font:null},conv:function(e){this.convertTagTo(e,"span")}},{tags:{"*":{type:["_moz"]}},conv:function(e,t){t.removeAttr("type")}},{tags:{"*":{_moz_dirty:null}},conv:function(e,t){t.removeAttr("_moz_dirty")}},{tags:{"*":{_moz_editor_bogus_node:null}},conv:function(e,t){t.remove()}}],n.xhtml.allowedAttribs={},n.xhtml.disallowedAttribs={},n.xhtml.allowedTags=[],n.xhtml.disallowedTags=[]}(jQuery),function(e){"use strict";e(document).ready(function(){e('form.tooltips input[type="text"],form.tooltips input[type="password"],form.tooltips input[type="email"],form.tooltips textarea').tooltipster({trigger:"custom",onlyOne:!1,position:"right",content:"Revise este campo",contentCloning:!1}),e(".mi-cuenta input[type=radio]").click(function(){var t=e(this),n=e(".mi-cuenta .register-container form.company"),o=e(".mi-cuenta .register-container form.candidate");"candidate"===t.val()?n.fadeOut(150,function(){o.fadeIn(150)}):o.fadeOut(150,function(){n.fadeIn(150)})}),e("form.ajax-submit").on("submit",function(t){t.preventDefault(),t.stopImmediatePropagation();var n=e(this),o=n.find("div.form-container"),i=n.find("div.form-messages").html("").removeClass("success error"),a=n.attr("message-delay")?n.attr("message-delay"):3e3;n.find(".tooltipstered").tooltipster("hide"),e(".notification").hide();var r=n.find(e("#token")).val();o.block({message:null}),e.ajax({url:n.attr("action"),headers:{"X-CSRF-TOKEN":r},data:new FormData(n[0]),type:"POST",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(e){i.addClass(e.status),i.html(e.message).slideDown().delay(a).slideUp(1e3,function(){o.unblock(),"success"===e.status&&(n[0].reset(),void 0!==e.redirect&&""!==!e.redirect||window.location.replace("/"))})},error:function(t){var a;if(i.addClass("error"),o.unblock(),422===t.status){var r=t.responseJSON;e.each(r,function(e,t){n.find(':input[name="'+e+'"]').tooltipster("content",t),n.find(':input[name="'+e+'"]').tooltipster("show")}),a="Revise los campos con error"}else a="Ha ocurrido un error inesperado, por favor, inténtelo nuevamente";i.html(a).slideDown().delay(5e3).slideUp()}})}),e("div.form-candidate-resume a.save-candidate").click(function(t){t.preventDefault(),t.stopImmediatePropagation();var n=e("textarea[name=resume_content]").sceditor("instance").val(),o=e(this).parents("form"),i=e(this).parents("div.form-candidate-resume"),a=e("#form-messages").html("").removeClass("success error");o.find(".tooltipstered").tooltipster("hide"),i.block({message:null}),o[0].resume_content.value=n;var r=o.find(e("#token")).val();e.ajax({url:o.attr("action"),headers:{"X-CSRF-TOKEN":r},data:new FormData(o[0]),type:"POST",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(e){a.addClass(e.status),a.html(e.message).slideDown().delay(3e3).slideUp(1e3,function(){"success"===e.status&&(o[0].reset(),i.unblock(),window.location.replace("/resume"))})},error:function(t){var n;if(a.addClass("error"),i.unblock(),422===t.status){var r=t.responseJSON;e.each(r,function(e,t){o.find(':input[name="'+e+'"]').tooltipster("content",t),o.find(':input[name="'+e+'"]').tooltipster("show")}),n="Revise los campos con error"}else n="Ha ocurrido un error inesperado, por favor, inténtelo nuevamente";a.html(n).slideDown().delay(5e3).slideUp()}})}),e("div.form-company-job a.save-job").click(function(t){t.preventDefault(),t.stopImmediatePropagation();var n=e(this).parents("form"),o=e(this).parents("div.form-company-job"),i=e("#form-messages").html("").removeClass("success error");n.find(".tooltipstered").tooltipster("hide"),o.block({message:null});var a=e("textarea[name=description]").sceditor("instance").val();if(e("textarea[name=profile_detail]").length){var r=e("textarea[name=profile_detail]").sceditor("instance").val();n[0].profile_detail.value=r}n[0].description.value=a;var s=n.find(e("#token")).val();e.ajax({url:n.attr("action"),headers:{"X-CSRF-TOKEN":s},data:new FormData(n[0]),type:"POST",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(e){i.addClass(e.status),i.html(e.message).slideDown().delay(3e3).slideUp(1e3,function(){"success"===e.status&&(n[0].reset(),o.unblock(),window.location.replace("/jobs/manage"))})},error:function(t){var a;if(i.addClass("error"),o.unblock(),422===t.status){var r=t.responseJSON;e.each(r,function(e,t){n.find(':input[name="'+e+'"]').tooltipster("content",t),n.find(':input[name="'+e+'"]').tooltipster("show")}),a="Revise los campos con error"}else a="Ha ocurrido un error inesperado, por favor, inténtelo nuevamente";i.html(a).slideDown().delay(5e3).slideUp()}})}),e("div.form-company-edit a.save").click(function(t){t.preventDefault(),t.stopImmediatePropagation();var n=e("textarea[name=profile_detail]").sceditor("instance").val(),o=e(this).parents("form"),i=o.find("div.form-container"),a=o.find("div.form-messages").html("").removeClass("success error");o.find(".tooltipstered").tooltipster("hide"),i.block({message:null}),o[0].profile_detail.value=n;var r=o.find(e("#token")).val();e.ajax({url:o.attr("action"),headers:{"X-CSRF-TOKEN":r},data:new FormData(o[0]),type:"POST",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(e){a.addClass(e.status),a.html(e.message).slideDown().delay(3e3).slideUp(1e3,function(){"success"===e.status&&(o[0].reset(),i.unblock(),window.location.replace("/company/profile"))})},error:function(t){var n;if(a.addClass("error"),i.unblock(),422===t.status){var r=t.responseJSON;e.each(r,function(e,t){o.find(':input[name="'+e+'"]').tooltipster("content",t),o.find(':input[name="'+e+'"]').tooltipster("show")}),n="Revise los campos con error"}else n="Ha ocurrido un error inesperado, por favor, inténtelo nuevamente";a.html(n).slideDown().delay(5e3).slideUp()}})}),e("form.search-jobsd").on("submit",function(t){t.preventDefault(),t.stopImmediatePropagation();var n=e(this),o=n.find("div.form-container"),i=n.find("div.form-messages").html("").removeClass("success error");n.find(".tooltipstered").tooltipster("hide");var a=n.find(e("#token")).val();o.block({message:null}),e.ajax({url:n.attr("action"),headers:{"X-CSRF-TOKEN":a},data:new FormData(n[0]),type:"GET",mimeType:"multipart/form-data",contentType:!1,cache:!1,processData:!1,dataType:"json",success:function(t){e("#jobs-list").empty().append(e(t.data))},error:function(t){var a;if(i.addClass("error"),o.unblock(),422===t.status){var r=t.responseJSON;e.each(r,function(e,t){n.find(':input[name="'+e+'"]').tooltipster("content",t),n.find(':input[name="'+e+'"]').tooltipster("show")}),a="Revise los campos con error"}else a="Ha ocurrido un error inesperado, por favor, inténtelo nuevamente";i.html(a).slideDown().delay(5e3).slideUp()}})})}),e(function(){e("input.candidate-photo:file").change(function(){var t=e(this).val(),n=t.slice(12,t.length);e("span.candidate-photo").html(n)})}),e(function(){e("input.candidate-resume:file").change(function(){var t=e(this).val(),n=t.slice(12,t.length);e("span.candidate-resume").html(n)})}),e(function(){e("input.company-logo:file").change(function(){var t=e(this).val(),n=t.slice(12,t.length);e("span.company-logo").html(n)})}),e(function(){e("input.candidate-application-resume:file").change(function(){var t=e(this).val(),n=t.slice(12,t.length);e("span.candidate-application-resume").html(n)})}),e(".date").each(function(t){new Pikaday({field:e(this)[0],firstDay:1,minDate:new Date(2e3,0,1),maxDate:new Date(2020,12,31),yearRange:[2e3,2020],format:"DD/MM/YYYY",i18n:{previousMonth:"Anterior Mes",nextMonth:"Siguiente Mes",months:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],weekdays:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],weekdaysShort:["Dom","Lun","Mar","Mie","Jue","Vie","Sab"]}})}),e(function(){e("#applicationStatusFilter").change(function(){var t=e(this),n=t.parents("form");n.submit()})})}(this.jQuery);